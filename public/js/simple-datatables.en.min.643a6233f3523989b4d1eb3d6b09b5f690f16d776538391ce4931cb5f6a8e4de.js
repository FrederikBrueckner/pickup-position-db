(function(e){if(typeof exports=="object"&&typeof module!="undefined")module.exports=e();else if(typeof define=="function"&&define.amd)define([],e);else{var t;typeof window!="undefined"?t=window:typeof global!="undefined"?t=global:typeof self!="undefined"?t=self:t=this,t.simpleDatatables=e()}})(function(){var e,t,n;return function(){function e(t,n,s){function o(i,r){if(!n[i]){if(!t[i]){var c,l,d="function"==typeof require&&require;if(!r&&d)return d(i,!0);if(a)return a(i,!0);throw l=new Error("Cannot find module '"+i+"'"),l.code="MODULE_NOT_FOUND",l}c=n[i]={exports:{}},t[i][0].call(c.exports,function(e){var n=t[i][1][e];return o(n||e)},c,c.exports,e,t,n,s)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<s.length;i++)o(s[i]);return o}return e}()({1:[function(e,t,n){(function(e){(function(){"use strict";const c=e=>"[object Object]"===Object.prototype.toString.call(e),H=e=>{let t=!1;try{t=JSON.parse(e)}catch{return!1}return!(null===t||!Array.isArray(t)&&!c(t))&&t},a=(e,t)=>{const n=document.createElement(e);if(t&&"object"==typeof t)for(const e in t)"html"===e?n.innerHTML=t[e]:n.setAttribute(e,t[e]);return n},b=e=>["#text","#comment"].includes(e.nodeName)?e.data:e.childNodes?e.childNodes.map(e=>b(e)).join(""):"",r=e=>{if(e==null)return"";if(e.hasOwnProperty("text")||e.hasOwnProperty("data")){const t=e;return t.text??r(t.data)}return e.hasOwnProperty("nodeName")?b(e):String(e)},v=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},_=function(e,t){let s=0,n=0;for(;s<e+1;)t[n].hidden||(s+=1),n+=1;return n-1},B=function(e){const t={};if(e)for(const n of e)t[n.name]=n.value;return t},i=e=>e?e.trim().split(" ").map(e=>`.${e}`).join(""):null,k=(e,t)=>{const n=t?.split(" ").some(t=>!e.classList.contains(t));return!n},d=(e,t)=>e?t?`${e} ${t}`:e:t||"",$=function(e,t=300){let n;return(...s)=>{clearTimeout(n),n=window.setTimeout(()=>e(),t)}};y=function(){return y=Object.assign||function(e){for(var t,s,o=arguments,n=1,i=arguments.length;n<i;n++)for(s in t=o[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},y.apply(this,arguments)};function j(e,t,n){if(n||2===arguments.length)for(var o,s=0,i=t.length;s<i;s++)!o&&s in t||(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return e.concat(o||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError,t=function(){function e(e){0[0]===e&&(e={});var t=this;Object.entries(e).forEach(function(e){var n=e[0],s=e[1];return t[n]=s})}return e.prototype.toString=function(){return JSON.stringify(this)},e.prototype.setValue=function(e,t){return this[e]=t,this},e}();function s(e){for(var s=arguments,n=[],t=1;t<arguments.length;t++)n[t-1]=s[t];return e!=null&&n.some(function(t){var n,s;return"function"==typeof(null===(s=null===(n=e?.ownerDocument)||0[0]===n?0[0]:n.defaultView)||0[0]===s?0[0]:s[t])&&e instanceof e.ownerDocument.defaultView[t]})}function M(e,t,n){var o;return"#text"===e.nodeName?o=n.document.createTextNode(e.data):"#comment"===e.nodeName?o=n.document.createComment(e.data):(t?(o=n.document.createElementNS("http://www.w3.org/2000/svg",e.nodeName),"foreignObject"===e.nodeName&&(t=!1)):"svg"===e.nodeName.toLowerCase()?(o=n.document.createElementNS("http://www.w3.org/2000/svg","svg"),t=!0):o=n.document.createElement(e.nodeName),e.attributes&&Object.entries(e.attributes).forEach(function(e){var t=e[0],n=e[1];return o.setAttribute(t,n)}),e.childNodes&&e.childNodes.forEach(function(e){return o.appendChild(M(e,t,n))}),n.valueDiffing&&(e.value&&s(o,"HTMLButtonElement","HTMLDataElement","HTMLInputElement","HTMLLIElement","HTMLMeterElement","HTMLOptionElement","HTMLProgressElement","HTMLParamElement")&&(o.value=e.value),e.checked&&s(o,"HTMLInputElement")&&(o.checked=e.checked),e.selected&&s(o,"HTMLOptionElement")&&(o.selected=e.selected))),o}O=function(e,t){for(t=t.slice();t.length>0;){var n=t.splice(0,1)[0];e=e.childNodes[n]}return e};function l(e,t,n){var o,i,a,r,c,l,u,m,h=t[n._const.action],d=t[n._const.route];if([n._const.addElement,n._const.addTextElement].includes(h)||(o=O(e,d)),a={diff:t,node:o},n.preDiffApply(a))return!0;switch(h){case n._const.addAttribute:if(!o||!s(o,"Element"))return!1;o.setAttribute(t[n._const.name],t[n._const.value]);break;case n._const.modifyAttribute:if(!o||!s(o,"Element"))return!1;o.setAttribute(t[n._const.name],t[n._const.newValue]),s(o,"HTMLInputElement")&&"value"===t[n._const.name]&&(o.value=t[n._const.newValue]);break;case n._const.removeAttribute:if(!o||!s(o,"Element"))return!1;o.removeAttribute(t[n._const.name]);break;case n._const.modifyTextElement:if(!o||!s(o,"Text"))return!1;n.textDiff(o,o.data,t[n._const.oldValue],t[n._const.newValue]),s(o.parentNode,"HTMLTextAreaElement")&&(o.parentNode.value=t[n._const.newValue]);break;case n._const.modifyValue:if(!o||0[0]===o.value)return!1;o.value=t[n._const.newValue];break;case n._const.modifyComment:if(!o||!s(o,"Comment"))return!1;n.textDiff(o,o.data,t[n._const.oldValue],t[n._const.newValue]);break;case n._const.modifyChecked:if(!o||0[0]===o.checked)return!1;o.checked=t[n._const.newValue];break;case n._const.modifySelected:if(!o||0[0]===o.selected)return!1;o.selected=t[n._const.newValue];break;case n._const.replaceElement:m="svg"===t[n._const.newValue].nodeName.toLowerCase()||"http://www.w3.org/2000/svg"===o.parentNode.namespaceURI,o.parentNode.replaceChild(M(t[n._const.newValue],m,n),o);break;case n._const.relocateGroup:j([],new Array(t[n._const.groupLength]),!0).map(function(){return o.removeChild(o.childNodes[t[n._const.from]])}).forEach(function(e,s){0===s&&(u=o.childNodes[t[n._const.to]]),o.insertBefore(e,u||null)});break;case n._const.removeElement:o.parentNode.removeChild(o);break;case n._const.addElement:if(r=(i=d.slice()).splice(i.length-1,1)[0],!s(o=O(e,i),"Element"))return!1;o.insertBefore(M(t[n._const.element],"http://www.w3.org/2000/svg"===o.namespaceURI,n),o.childNodes[r]||null);break;case n._const.removeTextElement:if(!o||3!==o.nodeType)return!1;c=o.parentNode,c.removeChild(o),s(c,"HTMLTextAreaElement")&&(c.value="");break;case n._const.addTextElement:if(r=(i=d.slice()).splice(i.length-1,1)[0],l=n.document.createTextNode(t[n._const.value]),!(o=O(e,i)).childNodes)return!1;o.insertBefore(l,o.childNodes[r]||null),s(o.parentNode,"HTMLTextAreaElement")&&(o.parentNode.value=t[n._const.value]);break;default:console.log("unknown action")}return n.postDiffApply({diff:a.diff,node:a.node,newNode:l}),!0}function T(e,t,n){var s=e[t];e[t]=e[n],e[n]=s}function J(e,t,n){(t=t.slice()).reverse(),t.forEach(function(t){!function(e,t,n){switch(t[n._const.action]){case n._const.addAttribute:t[n._const.action]=n._const.removeAttribute,l(e,t,n);break;case n._const.modifyAttribute:T(t,n._const.oldValue,n._const.newValue),l(e,t,n);break;case n._const.removeAttribute:t[n._const.action]=n._const.addAttribute,l(e,t,n);break;case n._const.modifyTextElement:case n._const.modifyValue:case n._const.modifyComment:case n._const.modifyChecked:case n._const.modifySelected:case n._const.replaceElement:T(t,n._const.oldValue,n._const.newValue),l(e,t,n);break;case n._const.relocateGroup:T(t,n._const.from,n._const.to),l(e,t,n);break;case n._const.removeElement:t[n._const.action]=n._const.addElement,l(e,t,n);break;case n._const.addElement:t[n._const.action]=n._const.removeElement,l(e,t,n);break;case n._const.removeTextElement:t[n._const.action]=n._const.addTextElement,l(e,t,n);break;case n._const.addTextElement:t[n._const.action]=n._const.removeTextElement,l(e,t,n);break;default:console.log("unknown action")}}(e,t,n)})}var t,y,O,L,R,E=function(e){var t=[];return t.push(e.nodeName),"#text"!==e.nodeName&&"#comment"!==e.nodeName&&e.attributes&&(e.attributes.class&&t.push("".concat(e.nodeName,".").concat(e.attributes.class.replace(/ /g,"."))),e.attributes.id&&t.push("".concat(e.nodeName,"#").concat(e.attributes.id))),t},W=function(e){var t={},n={};return e.forEach(function(e){E(e).forEach(function(e){var s=e in t;s||e in n?s&&(delete t[e],n[e]=!0):t[e]=!0})}),t},U=function(e,t){var s=W(e),o=W(t),n={};return Object.keys(s).forEach(function(e){o[e]&&(n[e]=!0)}),n},N=function(e){return delete e.outerDone,delete e.innerDone,delete e.valueDone,!e.childNodes||e.childNodes.every(N)},o=function(e){if(Object.prototype.hasOwnProperty.call(e,"data"))return{nodeName:"#text"===e.nodeName?"#text":"#comment",data:e.data};var t={nodeName:e.nodeName};return Object.prototype.hasOwnProperty.call(e,"attributes")&&(t.attributes=y({},e.attributes)),Object.prototype.hasOwnProperty.call(e,"checked")&&(t.checked=e.checked),Object.prototype.hasOwnProperty.call(e,"value")&&(t.value=e.value),Object.prototype.hasOwnProperty.call(e,"selected")&&(t.selected=e.selected),Object.prototype.hasOwnProperty.call(e,"childNodes")&&(t.childNodes=e.childNodes.map(function(e){return o(e)})),t},A=function(e,t){if(!["nodeName","value","checked","selected","data"].every(function(n){return e[n]===t[n]}))return!1;if(Object.prototype.hasOwnProperty.call(e,"data"))return!0;if(Boolean(e.attributes)!==Boolean(t.attributes))return!1;if(Boolean(e.childNodes)!==Boolean(t.childNodes))return!1;if(e.attributes){var n=Object.keys(e.attributes),s=Object.keys(t.attributes);if(n.length!==s.length)return!1;if(!n.every(function(n){return e.attributes[n]===t.attributes[n]}))return!1}if(e.childNodes){if(e.childNodes.length!==t.childNodes.length)return!1;if(!e.childNodes.every(function(e,n){return A(e,t.childNodes[n])}))return!1}return!0},S=function(e,t,n,s,o){if(0[0]===o&&(o=!1),!e||!t)return!1;if(e.nodeName!==t.nodeName)return!1;if(["#text","#comment"].includes(e.nodeName))return!!o||e.data===t.data;if(e.nodeName in n)return!0;if(e.attributes&&t.attributes){if(e.attributes.id){if(e.attributes.id!==t.attributes.id)return!1;if("".concat(e.nodeName,"#").concat(e.attributes.id)in n)return!0}if(e.attributes.class&&e.attributes.class===t.attributes.class&&"".concat(e.nodeName,".").concat(e.attributes.class.replace(/ /g,"."))in n)return!0}if(s)return!0;var r,i=e.childNodes?e.childNodes.slice().reverse():[],a=t.childNodes?t.childNodes.slice().reverse():[];return i.length===a.length&&(o?i.every(function(e,t){return e.nodeName===a[t].nodeName}):(r=U(i,a),i.every(function(e,t){return S(e,a[t],r,!0,!0)})))},w=function(e,t){return j([],new Array(e),!0).map(function(){return t})},G=function(e,t){for(var s=e.childNodes?e.childNodes:[],o=t.childNodes?t.childNodes:[],i=w(s.length,!1),a=w(o.length,!1),n=[],c=function(){return arguments[1]},r=!1,l=function(){var e=function(e,t,n,s){var o,i,h,m,a=0,l=[],d=e.length,u=t.length,r=j([],new Array(d+1),!0).map(function(){return[]}),f=U(e,t),c=d===u;c&&e.some(function(e,n){var s=E(e),o=E(t[n]);return s.length!==o.length?(c=!1,!0):(s.some(function(e,t){if(e!==o[t])return c=!1,!0}),!c||0[0])});for(o=0;o<d;o++)for(h=e[o],i=0;i<u;i++)m=t[i],n[o]||s[i]||!S(h,m,f,c)?r[o+1][i+1]=0:(r[o+1][i+1]=r[o][i]?r[o][i]+1:1,r[o+1][i+1]>=a&&(a=r[o+1][i+1],l=[o+1,i+1]));return 0!==a&&{oldValue:l[0]-a,newValue:l[1]-a,length:a}}(s,o,i,a);e?(n.push(e),j([],new Array(e.length),!0).map(c).forEach(function(t){return function(e,t,n,s){e[n.oldValue+s]=!0,t[n.newValue+s]=!0}(i,a,e,t)})):r=!0};!r;)l();return e.subsets=n,e.subsetsAge=100,n},oe=function(){function e(){this.list=[]}return e.prototype.add=function(e){var t;(t=this.list).push.apply(t,e)},e.prototype.forEach=function(e){this.list.forEach(function(t){return e(t)})},e}();function z(e,t){var s,o,n=e;for(t=t.slice();t.length>0;)s=t.splice(0,1)[0],o=n,n=n.childNodes?n.childNodes[s]:0[0];return{node:n,parentNode:o,nodeIndex:s}}function te(e,t,n){return t.forEach(function(t){!function(e,t,n){[n._const.addElement,n._const.addTextElement].includes(t[n._const.action])||(h=z(e,t[n._const.route]),s=h.node,a=h.parentNode,i=h.nodeIndex);var s,i,a,r,l,d,u,h,m,c=[],f={diff:t,node:s};if(n.preVirtualDiffApply(f))return!0;switch(t[n._const.action]){case n._const.addAttribute:s.attributes||(s.attributes={}),s.attributes[t[n._const.name]]=t[n._const.value],"checked"===t[n._const.name]?s.checked=!0:"selected"===t[n._const.name]?s.selected=!0:"INPUT"===s.nodeName&&"value"===t[n._const.name]&&(s.value=t[n._const.value]);break;case n._const.modifyAttribute:s.attributes[t[n._const.name]]=t[n._const.newValue];break;case n._const.removeAttribute:delete s.attributes[t[n._const.name]],0===Object.keys(s.attributes).length&&delete s.attributes,"checked"===t[n._const.name]?s.checked=!1:"selected"===t[n._const.name]?delete s.selected:"INPUT"===s.nodeName&&"value"===t[n._const.name]&&delete s.value;break;case n._const.modifyTextElement:s.data=t[n._const.newValue],"TEXTAREA"===a.nodeName&&(a.value=t[n._const.newValue]);break;case n._const.modifyValue:s.value=t[n._const.newValue];break;case n._const.modifyComment:s.data=t[n._const.newValue];break;case n._const.modifyChecked:s.checked=t[n._const.newValue];break;case n._const.modifySelected:s.selected=t[n._const.newValue];break;case n._const.replaceElement:r=o(t[n._const.newValue]),a.childNodes[i]=r;break;case n._const.relocateGroup:s.childNodes.splice(t[n._const.from],t[n._const.groupLength]).reverse().forEach(function(e){return s.childNodes.splice(t[n._const.to],0,e)}),s.subsets&&s.subsets.forEach(function(e){if(t[n._const.from]<t[n._const.to]&&e.oldValue<=t[n._const.to]&&e.oldValue>t[n._const.from])e.oldValue-=t[n._const.groupLength],(s=e.oldValue+e.length-t[n._const.to])>0&&(c.push({oldValue:t[n._const.to]+t[n._const.groupLength],newValue:e.newValue+e.length-s,length:s}),e.length-=s);else if(t[n._const.from]>t[n._const.to]&&e.oldValue>t[n._const.to]&&e.oldValue<t[n._const.from]){var s;e.oldValue+=t[n._const.groupLength],(s=e.oldValue+e.length-t[n._const.to])>0&&(c.push({oldValue:t[n._const.to]+t[n._const.groupLength],newValue:e.newValue+e.length-s,length:s}),e.length-=s)}else e.oldValue===t[n._const.from]&&(e.oldValue=t[n._const.to])});break;case n._const.removeElement:a.childNodes.splice(i,1),a.subsets&&a.subsets.forEach(function(e){e.oldValue>i?e.oldValue-=1:e.oldValue===i?e.delete=!0:e.oldValue<i&&e.oldValue+e.length>i&&(e.oldValue+e.length-1===i?e.length--:(c.push({newValue:e.newValue+i-e.oldValue,oldValue:i,length:e.length-i+e.oldValue-1}),e.length=i-e.oldValue))}),s=a;break;case n._const.addElement:l=(u=t[n._const.route].slice()).splice(u.length-1,1)[0],s=null===(m=z(e,u))||0[0]===m?0[0]:m.node,r=o(t[n._const.element]),s.childNodes||(s.childNodes=[]),l>=s.childNodes.length?s.childNodes.push(r):s.childNodes.splice(l,0,r),s.subsets&&s.subsets.forEach(function(e){if(e.oldValue>=l)e.oldValue+=1;else if(e.oldValue<l&&e.oldValue+e.length>l){var t=e.oldValue+e.length-l;c.push({newValue:e.newValue+e.length-t,oldValue:l+1,length:t}),e.length-=t}});break;case n._const.removeTextElement:a.childNodes.splice(i,1),"TEXTAREA"===a.nodeName&&delete a.value,a.subsets&&a.subsets.forEach(function(e){e.oldValue>i?e.oldValue-=1:e.oldValue===i?e.delete=!0:e.oldValue<i&&e.oldValue+e.length>i&&(e.oldValue+e.length-1===i?e.length--:(c.push({newValue:e.newValue+i-e.oldValue,oldValue:i,length:e.length-i+e.oldValue-1}),e.length=i-e.oldValue))}),s=a;break;case n._const.addTextElement:d=(u=t[n._const.route].slice()).splice(u.length-1,1)[0],r={nodeName:"#text",data:t[n._const.value]},(s=z(e,u).node).childNodes||(s.childNodes=[]),d>=s.childNodes.length?s.childNodes.push(r):s.childNodes.splice(d,0,r),"TEXTAREA"===s.nodeName&&(s.value=t[n._const.newValue]),s.subsets&&s.subsets.forEach(function(e){if(e.oldValue>=d&&(e.oldValue+=1),e.oldValue<d&&e.oldValue+e.length>d){var t=e.oldValue+e.length-d;c.push({newValue:e.newValue+e.length-t,oldValue:d+1,length:t}),e.length-=t}});break;default:console.log("unknown action")}s.subsets&&(s.subsets=s.subsets.filter(function(e){return!e.delete&&e.oldValue!==e.newValue}),c.length&&(s.subsets=s.subsets.concat(c))),n.postVirtualDiffApply({node:f.node,diff:f.diff,newNode:r})}(e,t,n)}),!0}function h(e,t){0[0]===t&&(t={valueDiffing:!0});var n={nodeName:e.nodeName};return s(e,"Text","Comment")?n.data=e.data:(e.attributes&&e.attributes.length>0&&(n.attributes={},Array.prototype.slice.call(e.attributes).forEach(function(e){return n.attributes[e.name]=e.value})),e.childNodes&&e.childNodes.length>0&&(n.childNodes=[],Array.prototype.slice.call(e.childNodes).forEach(function(e){return n.childNodes.push(h(e,t))})),t.valueDiffing&&(s(e,"HTMLTextAreaElement")&&(n.value=e.value),s(e,"HTMLInputElement")&&["radio","checkbox"].includes(e.type.toLowerCase())&&0[0]!==e.checked?n.checked=e.checked:s(e,"HTMLButtonElement","HTMLDataElement","HTMLInputElement","HTMLLIElement","HTMLMeterElement","HTMLOptionElement","HTMLProgressElement","HTMLParamElement")&&(n.value=e.value),s(e,"HTMLOptionElement")&&(n.selected=e.selected))),n}L=/<\s*\/*[a-zA-Z:_][a-zA-Z0-9:_\-.]*\s*(?:"[^"]*"['"]*|'[^']*'['"]*|[^'"/>])*\/*\s*>|<!--(?:.|\n|\r)*?-->/g,R=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function P(e){return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}var ie={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuItem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},I=function(e,t){var i,a,c,s={nodeName:"",attributes:{}},r=!1,o=e.match(/<\/?([^\s]+?)[/\s>]/);if(o&&(s.nodeName=t||"svg"===o[1]?o[1]:o[1].toUpperCase(),(ie[o[1]]||"/"===e.charAt(e.length-2))&&(r=!0),s.nodeName.startsWith("!--")))return c=e.indexOf("-->"),{type:"comment",node:{nodeName:"#comment",data:-1!==c?e.slice(4,c):""},voidElement:r};for(var l=new RegExp(R),n=null,d=!1;!d;)null===(n=l.exec(e))?d=!0:n[0].trim()&&(n[1]?(i=n[1].trim(),a=[i,""],i.indexOf("=")>-1&&(a=i.split("=")),s.attributes[a[0]]=a[1],l.lastIndex--):n[2]&&(s.attributes[n[2]]=n[3].trim().substring(1,n[3].length-1)));return{type:"tag",node:s,voidElement:r}},u=function(e,t){0[0]===t&&(t={valueDiffing:!0,caseSensitive:!1});var n,r,o=[],s=-1,i=[],a=!1;return 0!==e.indexOf("<")&&(r=e.indexOf("<"),o.push({nodeName:"#text",data:-1===r?e:e.substring(0,r)})),e.replace(L,function(r,c){var d,u,h,f,p,v,g="/"!==r.charAt(1),b=r.startsWith("<!--"),l=c+r.length,m=e.charAt(l);return b?(f=I(r,t.caseSensitive).node,s<0?(o.push(f),""):(d=i[s],d&&f.nodeName&&(d.node.childNodes||(d.node.childNodes=[]),d.node.childNodes.push(f)),"")):(g&&(("svg"===(n=I(r,t.caseSensitive||a)).node.nodeName&&(a=!0),s++,!n.voidElement&&m&&"<"!==m)&&(n.node.childNodes||(n.node.childNodes=[]),u=P(e.slice(l,e.indexOf("<",l))),n.node.childNodes.push({nodeName:"#text",data:u}),t.valueDiffing&&"TEXTAREA"===n.node.nodeName&&(n.node.value=u)),0===s&&n.node.nodeName&&o.push(n.node),h=i[s-1],h&&n.node.nodeName&&(h.node.childNodes||(h.node.childNodes=[]),h.node.childNodes.push(n.node)),i[s]=n),(!g||n.voidElement)&&(s>-1&&(n.voidElement||t.caseSensitive&&n.node.nodeName===r.slice(2,-1)||!t.caseSensitive&&n.node.nodeName.toUpperCase()===r.slice(2,-1).toUpperCase())&&--s>-1&&("svg"===n.node.nodeName&&(a=!1),n=i[s]),"<"!==m&&m)&&(v=-1===s?o:i[s].node.childNodes||[],p=e.indexOf("<",l),u=P(e.slice(l,-1===p?0[0]:p)),v.push({nodeName:"#text",data:u})),"")}),o[0]},q=function(){function e(e,t,n){this.options=n,this.t1="undefined"!=typeof Element&&s(e,"Element")?h(e,this.options):"string"==typeof e?u(e,this.options):JSON.parse(JSON.stringify(e)),this.t2="undefined"!=typeof Element&&s(t,"Element")?h(t,this.options):"string"==typeof t?u(t,this.options):JSON.parse(JSON.stringify(t)),this.diffcount=0,this.foundAll=!1,this.debug&&(this.t1Orig="undefined"!=typeof Element&&s(e,"Element")?h(e,this.options):"string"==typeof e?u(e,this.options):JSON.parse(JSON.stringify(e)),this.t2Orig="undefined"!=typeof Element&&s(t,"Element")?h(t,this.options):"string"==typeof t?u(t,this.options):JSON.parse(JSON.stringify(t))),this.tracker=new oe}return e.prototype.init=function(){return this.findDiffs(this.t1,this.t2)},e.prototype.findDiffs=function(e,t){var n;do{if(this.options.debug&&(this.diffcount+=1,this.diffcount>this.options.diffcap))throw new Error("surpassed diffcap:".concat(JSON.stringify(this.t1Orig)," -> ").concat(JSON.stringify(this.t2Orig)));0===(n=this.findNextDiff(e,t,[])).length&&(A(e,t)||(this.foundAll?console.error("Could not find remaining diffs!"):(this.foundAll=!0,N(e),n=this.findNextDiff(e,t,[])))),n.length>0&&(this.foundAll=!1,this.tracker.add(n),te(e,n,this.options))}while(n.length>0)return this.tracker.list},e.prototype.findNextDiff=function(e,t,n){var s,o;if(this.options.maxDepth&&n.length>this.options.maxDepth)return[];if(!e.outerDone){if(s=this.findOuterDiff(e,t,n),this.options.filterOuterDiff&&(o=this.options.filterOuterDiff(e,t,s))&&(s=o),s.length>0)return e.outerDone=!0,s;e.outerDone=!0}if(Object.prototype.hasOwnProperty.call(e,"data"))return[];if(!e.innerDone){if((s=this.findInnerDiff(e,t,n)).length>0)return s;e.innerDone=!0}if(this.options.valueDiffing&&!e.valueDone){if((s=this.findValueDiff(e,t,n)).length>0)return e.valueDone=!0,s;e.valueDone=!0}return[]},e.prototype.findOuterDiff=function(e,n,s){var i,a,r,c,d,u,l=[];if(e.nodeName!==n.nodeName){if(!s.length)throw new Error("Top level nodes have to be of the same kind.");return[(new t).setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,o(e)).setValue(this.options._const.newValue,o(n)).setValue(this.options._const.route,s)]}if(s.length&&this.options.diffcap<Math.abs((e.childNodes||[]).length-(n.childNodes||[]).length))return[(new t).setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,o(e)).setValue(this.options._const.newValue,o(n)).setValue(this.options._const.route,s)];if(Object.prototype.hasOwnProperty.call(e,"data")&&e.data!==n.data)return"#text"===e.nodeName?[(new t).setValue(this.options._const.action,this.options._const.modifyTextElement).setValue(this.options._const.route,s).setValue(this.options._const.oldValue,e.data).setValue(this.options._const.newValue,n.data)]:[(new t).setValue(this.options._const.action,this.options._const.modifyComment).setValue(this.options._const.route,s).setValue(this.options._const.oldValue,e.data).setValue(this.options._const.newValue,n.data)];for(d=e.attributes?Object.keys(e.attributes).sort():[],r=n.attributes?Object.keys(n.attributes).sort():[],c=d.length,a=0;a<c;a++)i=d[a],-1===(u=r.indexOf(i))?l.push((new t).setValue(this.options._const.action,this.options._const.removeAttribute).setValue(this.options._const.route,s).setValue(this.options._const.name,i).setValue(this.options._const.value,e.attributes[i])):(r.splice(u,1),e.attributes[i]!==n.attributes[i]&&l.push((new t).setValue(this.options._const.action,this.options._const.modifyAttribute).setValue(this.options._const.route,s).setValue(this.options._const.name,i).setValue(this.options._const.oldValue,e.attributes[i]).setValue(this.options._const.newValue,n.attributes[i])));for(c=r.length,a=0;a<c;a++)i=r[a],l.push((new t).setValue(this.options._const.action,this.options._const.addAttribute).setValue(this.options._const.route,s).setValue(this.options._const.name,i).setValue(this.options._const.value,n.attributes[i]));return l},e.prototype.findInnerDiff=function(e,n,s){var r,c,l,f,p,d=e.childNodes?e.childNodes.slice():[],u=n.childNodes?n.childNodes.slice():[],h=Math.max(d.length,u.length),m=Math.abs(d.length-u.length),i=[],a=0;if((!this.options.maxChildCount||h<this.options.maxChildCount)&&(f=Boolean(e.subsets&&e.subsetsAge--),p=f?e.subsets:e.childNodes&&n.childNodes?G(e,n):[],p.length>0&&(i=this.attemptGroupRelocation(e,n,p,s,f)).length>0))return i;for(l=0;l<h;l+=1)r=d[l],c=u[l],m&&(r&&!c?"#text"===r.nodeName?(i.push((new t).setValue(this.options._const.action,this.options._const.removeTextElement).setValue(this.options._const.route,s.concat(a)).setValue(this.options._const.value,r.data)),a-=1):(i.push((new t).setValue(this.options._const.action,this.options._const.removeElement).setValue(this.options._const.route,s.concat(a)).setValue(this.options._const.element,o(r))),a-=1):c&&!r&&("#text"===c.nodeName?i.push((new t).setValue(this.options._const.action,this.options._const.addTextElement).setValue(this.options._const.route,s.concat(a)).setValue(this.options._const.value,c.data)):i.push((new t).setValue(this.options._const.action,this.options._const.addElement).setValue(this.options._const.route,s.concat(a)).setValue(this.options._const.element,o(c))))),r&&c&&(!this.options.maxChildCount||h<this.options.maxChildCount?i=i.concat(this.findNextDiff(r,c,s.concat(a))):A(r,c)||(d.length>u.length?("#text"===r.nodeName?i.push((new t).setValue(this.options._const.action,this.options._const.removeTextElement).setValue(this.options._const.route,s.concat(a)).setValue(this.options._const.value,r.data)):i.push((new t).setValue(this.options._const.action,this.options._const.removeElement).setValue(this.options._const.element,o(r)).setValue(this.options._const.route,s.concat(a))),d.splice(l,1),l-=1,a-=1,m-=1):d.length<u.length?(i=i.concat([(new t).setValue(this.options._const.action,this.options._const.addElement).setValue(this.options._const.element,o(c)).setValue(this.options._const.route,s.concat(a))]),d.splice(l,0,o(c)),m-=1):i=i.concat([(new t).setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,o(r)).setValue(this.options._const.newValue,o(c)).setValue(this.options._const.route,s.concat(a))]))),a+=1;return e.innerDone=!0,i},e.prototype.attemptGroupRelocation=function(e,n,s,i,a){for(var u,f,v,b,j,y,_,O=function(e,t,n){var o=e.childNodes?w(e.childNodes.length,!0):[],i=t.childNodes?w(t.childNodes.length,!0):[],s=0;return n.forEach(function(e){for(var n=e.oldValue+e.length,a=e.newValue+e.length,t=e.oldValue;t<n;t+=1)o[t]=s;for(t=e.newValue;t<a;t+=1)i[t]=s;s+=1}),{gaps1:o,gaps2:i}}(e,n,s),l=O.gaps1,h=O.gaps2,d=e.childNodes.slice(),p=n.childNodes.slice(),g=Math.min(l.length,h.length),m=[],c=0,r=0;c<g;r+=1,c+=1)if(!a||!0!==l[c]&&!0!==h[c])if(!0===l[r])if("#text"===(u=d[r]).nodeName)if("#text"===p[c].nodeName){if(u.data!==p[c].data){for(v=r;d.length>v+1&&"#text"===d[v+1].nodeName;)if(v+=1,p[c].data===d[v].data){_=!0;break}_||m.push((new t).setValue(this.options._const.action,this.options._const.modifyTextElement).setValue(this.options._const.route,i.concat(r)).setValue(this.options._const.oldValue,u.data).setValue(this.options._const.newValue,p[c].data))}}else m.push((new t).setValue(this.options._const.action,this.options._const.removeTextElement).setValue(this.options._const.route,i.concat(r)).setValue(this.options._const.value,u.data)),l.splice(r,1),d.splice(r,1),g=Math.min(l.length,h.length),r-=1,c-=1;else!0===h[c]?m.push((new t).setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,o(u)).setValue(this.options._const.newValue,o(p[c])).setValue(this.options._const.route,i.concat(r))):(m.push((new t).setValue(this.options._const.action,this.options._const.removeElement).setValue(this.options._const.route,i.concat(r)).setValue(this.options._const.element,o(u))),l.splice(r,1),d.splice(r,1),g=Math.min(l.length,h.length),r-=1,c-=1);else if(!0===h[c])"#text"===(u=p[c]).nodeName?(m.push((new t).setValue(this.options._const.action,this.options._const.addTextElement).setValue(this.options._const.route,i.concat(r)).setValue(this.options._const.value,u.data)),l.splice(r,0,!0),d.splice(r,0,{nodeName:"#text",data:u.data}),g=Math.min(l.length,h.length)):(m.push((new t).setValue(this.options._const.action,this.options._const.addElement).setValue(this.options._const.route,i.concat(r)).setValue(this.options._const.element,o(u))),l.splice(r,0,!0),d.splice(r,0,o(u)),g=Math.min(l.length,h.length));else if(l[r]!==h[c]){if(m.length>0)return m;if(f=s[l[r]],(y=Math.min(f.newValue,d.length-f.length))!==f.oldValue){j=!1;for(b=0;b<f.length;b+=1)S(d[y+b],d[f.oldValue+b],{},!1,!0)||(j=!0);if(j)return[(new t).setValue(this.options._const.action,this.options._const.relocateGroup).setValue(this.options._const.groupLength,f.length).setValue(this.options._const.from,f.oldValue).setValue(this.options._const.to,y).setValue(this.options._const.route,i)]}}return m},e.prototype.findValueDiff=function(e,n,s){var o=[];return e.selected!==n.selected&&o.push((new t).setValue(this.options._const.action,this.options._const.modifySelected).setValue(this.options._const.oldValue,e.selected).setValue(this.options._const.newValue,n.selected).setValue(this.options._const.route,s)),(e.value||n.value)&&e.value!==n.value&&"OPTION"!==e.nodeName&&o.push((new t).setValue(this.options._const.action,this.options._const.modifyValue).setValue(this.options._const.oldValue,e.value||"").setValue(this.options._const.newValue,n.value||"").setValue(this.options._const.route,s)),e.checked!==n.checked&&o.push((new t).setValue(this.options._const.action,this.options._const.modifyChecked).setValue(this.options._const.oldValue,e.checked).setValue(this.options._const.newValue,n.checked).setValue(this.options._const.route,s)),o},e}(),ee={debug:!1,diffcap:10,maxDepth:!1,maxChildCount:50,valueDiffing:!0,textDiff:function(e,t,n,s){e.data=s},preVirtualDiffApply:function(){},postVirtualDiffApply:function(){},preDiffApply:function(){},postDiffApply:function(){},filterOuterDiff:null,compress:!1,_const:!1,document:"undefined"!=typeof window&&!!window.document&&window.document,components:[]},Z=function(){function e(e){if(0[0]===e&&(e={}),Object.entries(ee).forEach(function(t){var n=t[0],s=t[1];Object.prototype.hasOwnProperty.call(e,n)||(e[n]=s)}),!e._const){var n=["addAttribute","modifyAttribute","removeAttribute","modifyTextElement","relocateGroup","removeElement","addElement","removeTextElement","addTextElement","replaceElement","modifyValue","modifyChecked","modifySelected","modifyComment","action","route","oldValue","newValue","element","group","groupLength","from","to","name","value","data","attributes","nodeName","childNodes","checked","selected"],t={};e.compress?n.forEach(function(e,n){return t[e]=n}):n.forEach(function(e){return t[e]=e}),e._const=t}this.options=e}return e.prototype.apply=function(e,t){return function(e,t,n){return t.every(function(t){return l(e,t,n)})}(e,t,this.options)},e.prototype.undo=function(e,t){return J(e,t,this.options)},e.prototype.diff=function(e,t){return new q(e,t,this.options).init()},e}();const F=(e,t,n,{classes:s,format:o,hiddenHeader:i,sortable:a,scrollY:r,type:c},{noColumnWidths:l,unhideHeader:u})=>({nodeName:"TR",childNodes:e.map((e,h)=>{const f=t[h]||{type:c,format:o,sortable:!0,searchable:!0};if(f.hidden)return;const m=e.attributes?{...e.attributes}:{};if(f.sortable&&a&&(!r.length||u)&&(f.filter?m["data-filterable"]="true":m["data-sortable"]="true"),f.headerClass&&(m.class=d(m.class,f.headerClass)),n.sort&&n.sort.column===h){const e="asc"===n.sort.dir?s.ascending:s.descending;m.class=d(m.class,e),m["aria-sort"]="asc"===n.sort.dir?"ascending":"descending"}else n.filters[h]&&(m.class=d(m.class,s.filterActive));n.widths[h]&&!l&&`width: ${n.widths[h]}%;`;const p="html"===e.type?e.data:[{nodeName:"#text",data:e.text??String(e.data)}];return{nodeName:"TH",attributes:m,childNodes:!i&&!r.length||u?f.sortable&&a?[{nodeName:"BUTTON",attributes:{class:f.filter?s.filter:s.sorter},childNodes:p}]:p:[{nodeName:"#text",data:""}]}}).filter(e=>e)}),K=(e,t,n,s,o,i,{classes:a,hiddenHeader:c,header:l,footer:h,format:m,sortable:f,scrollY:p,type:g,rowRender:v,tabIndex:b},{noColumnWidths:j,unhideHeader:y,renderHeader:_},w,O)=>{const x={nodeName:"TABLE",attributes:{...e},childNodes:[{nodeName:"TBODY",childNodes:n.map(({row:e,index:t})=>{const n={nodeName:"TR",attributes:{...e.attributes,"data-index":String(t)},childNodes:e.cells.map((e,n)=>{const a=s[n]||{type:g,format:m,sortable:!0,searchable:!0};if(a.hidden)return;const i={nodeName:"TD",attributes:e.attributes?{...e.attributes}:{},childNodes:"html"===a.type?e.data:[{nodeName:"#text",data:r(e)}]};if(l||h||!o.widths[n]||j||(i.attributes.style=d(i.attributes.style,`width: ${o.widths[n]}%;`)),a.cellClass&&(i.attributes.class=d(i.attributes.class,a.cellClass)),a.render){const s=a.render(e.data,i,t,n);if(s){if("string"!=typeof s)return s;{const e=u(`<td>${s}</td>`);1===e.childNodes.length&&["#text","#comment"].includes(e.childNodes[0].nodeName)?i.childNodes[0].data=s:i.childNodes=e.childNodes}}}return i}).filter(e=>e)};if(t===i&&(n.attributes.class=d(n.attributes.class,a.cursor)),v){const s=v(e,n,t);if(s){if("string"!=typeof s)return s;{const e=u(`<tr>${s}</tr>`);!e.childNodes||1===e.childNodes.length&&["#text","#comment"].includes(e.childNodes[0].nodeName)?n.childNodes[0].data=s:n.childNodes=e.childNodes}}}return n})}]};if(x.attributes.class=d(x.attributes.class,a.table),l||h||_){const e=F(t,s,o,{classes:a,hiddenHeader:c,sortable:f,scrollY:p},{noColumnWidths:j,unhideHeader:y});if(l||_){const t={nodeName:"THEAD",childNodes:[e]};!p.length&&!c||y||(t.attributes={style:"height: 0px;"}),x.childNodes.unshift(t)}if(h){const t={nodeName:"TFOOT",childNodes:[l?structuredClone(e):e]};!p.length&&!c||y||(t.attributes={style:"height: 0px;"}),x.childNodes.push(t)}}return w.forEach(e=>x.childNodes.push(e)),O.forEach(e=>x.childNodes.push(e)),!1!==b&&(x.attributes.tabindex=String(b)),x};"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self&&self;function D(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ne={exports:{}},g=D(ne.exports=function(){var d,p,y=1e3,b=6e4,O=36e5,f="millisecond",l="second",c="minute",r="hour",s="day",h="week",n="month",w="quarter",o="year",a="date",_="Invalid Date",k=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,E=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,C={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},v=function(e,t,n){var s=String(e);return!s||s.length>=t?e:""+Array(t+1-s.length).join(n)+e},x={s:v,z:function(e){var t=-e.utcOffset(),n=t<0?-t:t,s=Math.floor(n/60),o=n%60;return(t<=0?"+":"-")+v(s,2,"0")+":"+v(o,2,"0")},m:function e(t,s){if(t.date()<s.date())return-e(s,t);var i=12*(s.year()-t.year())+(s.month()-t.month()),o=t.clone().add(i,n),a=s-o<0,r=t.clone().add(i+(a?-1:1),n);return+(-(i+(s-o)/(a?o-r:r-o))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:n,y:o,w:h,d:s,D:a,h:r,m:c,s:l,ms:f,Q:w}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return 0[0]===e}},u="en",i={};i[u]=C;var j="$isDayjsObject",g=function(e){return e instanceof d||!!e&&!!e[j]},m=function e(t,n,s){if(!t)return u;if("string"==typeof t){{var o,r,c,a=t.toLowerCase();if(i[a]&&(o=a),n&&(i[a]=n,o=a),r=t.split("-"),!o&&r.length>1)return e(r[0])}}else c=t.name,i[c]=t,o=c;return!s&&o&&(u=o),o||!s&&u},t=function(e,t){if(g(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new d(n)},e=x;return e.l=m,e.i=g,e.w=function(e,n){return t(e,{locale:n.$L,utc:n.$u,x:n.$x,$offset:n.$offset})},d=function(){function u(e){this.$L=m(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[j]=!0}var d=u.prototype;return d.parse=function(t){this.$d=function(t){var n,o,i,s=t.date,a=t.utc;return null===s?new Date(NaN):e.u(s)?new Date:s instanceof Date?new Date(s):"string"==typeof s&&!/Z$/i.test(s)&&(n=s.match(k),n)?(o=n[2]-1||0,i=(n[7]||"0").substring(0,3),a?new Date(Date.UTC(n[1],o,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)):new Date(n[1],o,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)):new Date(s)}(t),this.init()},d.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},d.$utils=function(){return e},d.isValid=function(){return this.$d.toString()!==_},d.isSame=function(e,n){var s=t(e);return this.startOf(n)<=s&&s<=this.endOf(n)},d.isAfter=function(e,n){return t(e)<this.startOf(n)},d.isBefore=function(e,n){return this.endOf(n)<t(e)},d.$g=function(t,n,s){return e.u(t)?this[n]:this.set(s,t)},d.unix=function(){return Math.floor(this.valueOf()/1e3)},d.valueOf=function(){return this.$d.getTime()},d.startOf=function(t,i){var b,j,d=this,u=!!e.u(i)||i,_=e.p(t),m=function(t,n){var o=e.w(d.$u?Date.UTC(d.$y,n,t):new Date(d.$y,n,t),d);return u?o:o.endOf(s)},f=function(t,n){return e.w(d.toDate()[t].apply(d.toDate("s"),(u?[0,0,0,0]:[23,59,59,999]).slice(n)),d)},g=this.$W,v=this.$M,y=this.$D,p="set"+(this.$u?"UTC":"");switch(_){case o:return u?m(1,0):m(31,11);case n:return u?m(1,v):m(0,v+1);case h:return b=this.$locale().weekStart||0,j=(g<b?g+7:g)-b,m(u?y-j:y+(6-j),v);case s:case a:return f(p+"Hours",0);case r:return f(p+"Minutes",1);case c:return f(p+"Seconds",2);case l:return f(p+"Milliseconds",3);default:return this.clone()}},d.endOf=function(e){return this.startOf(e,!1)},d.$set=function(t,i){var d,h,m=e.p(t),u="set"+(this.$u?"UTC":""),p=(d={},d[s]=u+"Date",d[a]=u+"Date",d[n]=u+"Month",d[o]=u+"FullYear",d[r]=u+"Hours",d[c]=u+"Minutes",d[l]=u+"Seconds",d[f]=u+"Milliseconds",d)[m],g=m===s?this.$D+(i-this.$W):i;return m===n||m===o?(h=this.clone().set(a,1),h.$d[p](g),h.init(),this.$d=h.set(a,Math.min(this.$D,h.daysInMonth())).$d):p&&this.$d[p](g),this.init(),this},d.set=function(e,t){return this.clone().$set(e,t)},d.get=function(t){return this[e.p(t)]()},d.add=function(i,a){m=this,i=Number(i);var d,m,p,g,u=e.p(a),f=function(n){var s=t(m);return e.w(s.date(s.date()+Math.round(n*i)),m)};return u===n?this.set(n,this.$M+i):u===o?this.set(o,this.$y+i):u===s?f(1):u===h?f(7):(p=(d={},d[c]=b,d[r]=O,d[l]=y,d)[u]||1,g=this.$d.getTime()+i*p,e.w(g,this))},d.subtract=function(e,t){return this.add(-1*e,t)},d.format=function(t){if(n=this,s=this.$locale(),!this.isValid())return s.invalidDate||_;var n,s,u=t||"YYYY-MM-DDTHH:mm:ssZ",l=e.z(this),o=this.$H,a=this.$m,r=this.$M,c=s.weekdays,d=s.months,f=s.meridiem,i=function(e,t,s,o){return e&&(e[t]||e(n,u))||s[t].slice(0,o)},h=function(t){return e.s(o%12||12,t,"0")},m=f||function(e,t,n){var s=e<12?"AM":"PM";return n?s.toLowerCase():s};return u.replace(E,function(t,u){return u||function(t){switch(t){case"YY":return String(n.$y).slice(-2);case"YYYY":return e.s(n.$y,4,"0");case"M":return r+1;case"MM":return e.s(r+1,2,"0");case"MMM":return i(s.monthsShort,r,d,3);case"MMMM":return i(d,r);case"D":return n.$D;case"DD":return e.s(n.$D,2,"0");case"d":return String(n.$W);case"dd":return i(s.weekdaysMin,n.$W,c,2);case"ddd":return i(s.weekdaysShort,n.$W,c,3);case"dddd":return c[n.$W];case"H":return String(o);case"HH":return e.s(o,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return m(o,a,!0);case"A":return m(o,a,!1);case"m":return String(a);case"mm":return e.s(a,2,"0");case"s":return String(n.$s);case"ss":return e.s(n.$s,2,"0");case"SSS":return e.s(n.$ms,3,"0");case"Z":return l}return null}(t)||l.replace(":","")})},d.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},d.diff=function(i,a,d){var u,v=this,j=e.p(a),f=t(i),g=(f.utcOffset()-this.utcOffset())*b,m=this-f,p=function(){return e.m(v,f)};switch(j){case o:u=p()/12;break;case n:u=p();break;case w:u=p()/3;break;case h:u=(m-g)/6048e5;break;case s:u=(m-g)/864e5;break;case r:u=m/O;break;case c:u=m/b;break;case l:u=m/y;break;default:u=m}return d?u:e.a(u)},d.daysInMonth=function(){return this.endOf(n).$D},d.$locale=function(){return i[this.$L]},d.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),s=m(e,t,!0);return s&&(n.$L=s),n},d.clone=function(){return e.w(this.$d,this)},d.toDate=function(){return new Date(this.valueOf())},d.toJSON=function(){return this.isValid()?this.toISOString():null},d.toISOString=function(){return this.$d.toISOString()},d.toString=function(){return this.$d.toUTCString()},u}(),p=d.prototype,t.prototype=p,[["$ms",f],["$s",l],["$m",c],["$H",r],["$W",s],["$M",n],["$y",o],["$D",a]].forEach(function(e){p[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),t.extend=function(e,n){return e.$i||(e(n,d,t),e.$i=!0),t},t.locale=m,t.isDayjs=g,t.unix=function(e){return t(1e3*e)},t.en=i[u],t.Ls=i,t.p={},t}()),X={exports:{}},Q=D(X.exports=function(){var d={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},l=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,o=/\d\d/,t=/\d\d?/,s=/\d*[^-_:/,()\s\d]+/,n={},a=function(e){return(e=+e)+(e>68?1900:2e3)},e=function(e){return function(t){this[e]=+t}},r=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;if("Z"===e)return 0;var t=e.match(/([+-]|\d\d)/g),n=60*t[1]+(+t[2]||0);return 0===n?0:"+"===t[0]?-n:n}(e)}],i=function(e){var t=n[e];return t&&(t.indexOf?t:t.s.concat(t.f))},c=function(e,t){var s,o,i=n.meridiem;if(i){for(s=1;s<=24;s+=1)if(e.indexOf(i(s,0,t))>-1){o=s>12;break}}else o=e===(t?"pm":"PM");return o},u={A:[s,function(e){this.afternoon=c(e,!1)}],a:[s,function(e){this.afternoon=c(e,!0)}],S:[/\d/,function(e){this.milliseconds=100*+e}],SS:[o,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[t,e("seconds")],ss:[t,e("seconds")],m:[t,e("minutes")],mm:[t,e("minutes")],H:[t,e("hours")],h:[t,e("hours")],HH:[t,e("hours")],hh:[t,e("hours")],D:[t,e("day")],DD:[o,e("day")],Do:[s,function(e){var t,s=n.ordinal,o=e.match(/\d+/);if(this.day=o[0],s)for(t=1;t<=31;t+=1)s(t).replace(/\[|\]/g,"")===e&&(this.day=t)}],M:[t,e("month")],MM:[o,e("month")],MMM:[s,function(e){var n=i("months"),t=(i("monthsShort")||n.map(function(e){return e.slice(0,3)})).indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],MMMM:[s,function(e){var t=i("months").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,e("year")],YY:[o,function(e){this.year=a(e)}],YYYY:[/\d{4}/,e("year")],Z:r,ZZ:r};function h(e){for(var h=e,i=n&&n.formats,t=(e=h.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(e,t,n){var s=n&&n.toUpperCase();return t||i[n]||d[n]||i[s].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(e,t,n){return t||n.slice(1)})})).match(l),a=t.length,s=0;s<a;s+=1){var i,h,r=t[s],o=u[r],m=o&&o[0],c=o&&o[1];t[s]=c?{regex:m,parser:c}:r.replace(/^\[|\]$/g,"")}return function(e){for(var s={},o=0,i=0;o<a;o+=1)if(n=t[o],"string"==typeof n)i+=n.length;else{var n,c=n.regex,l=n.parser,d=e.slice(i),r=c.exec(d)[0];l.call(s,r),e=e.replace(r,"")}return function(e){var t,n=e.afternoon;0[0]!==n&&(t=e.hours,n?t<12&&(e.hours+=12):12===t&&(e.hours=0),delete e.afternoon)}(s),s}}return function(e,t,s){s.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(a=e.parseTwoDigitYear);var o=t.prototype,i=o.parse;o.parse=function(e){var d=e.date,u=e.utc,t=e.args;if(this.$u=u,o=t[1],"string"==typeof o){var o,r,c,l,m=!0===t[2],f=!0===t[3],p=m||f,a=t[2];f&&(a=t[2]),n=this.$locale(),!m&&a&&(n=s.Ls[a]),this.$d=function(e,t,n){try{if(["x","X"].indexOf(t)>-1)return new Date(("X"===t?1e3:1)*e);var s=h(t)(e),r=s.year,o=s.month,y=s.day,j=s.hours,b=s.minutes,v=s.seconds,g=s.milliseconds,p=s.zone,m=new Date,f=y||(r||o?1:m.getDate()),a=r||m.getFullYear(),i=0;r&&!o||(i=o>0?o-1:m.getMonth());var u=j||0,d=b||0,l=v||0,c=g||0;return p?new Date(Date.UTC(a,i,f,u,d,l,c+60*p.offset*1e3)):n?new Date(Date.UTC(a,i,f,u,d,l,c)):new Date(a,i,f,u,d,l,c)}catch{return new Date("")}}(d,o,u),this.init(),a&&!0!==a&&(this.$L=this.locale(a).$L),p&&d!=this.format(o)&&(this.$d=new Date("")),n={}}else if(o instanceof Array)for(l=o.length,r=1;r<=l;r+=1){if(t[1]=o[r-1],c=s.apply(this,t),c.isValid()){this.$d=c.$d,this.$L=c.$L,this.init();break}r===l&&(this.$d=new Date(""))}else i.call(this,e)}}}());g.extend(Q);const x=(e,t)=>{let n;if(t)switch(t){case"ISO_8601":n=e;break;case"RFC_2822":n=g(e.slice(5),"DD MMM YYYY HH:mm:ss ZZ").unix();break;case"MYSQL":n=g(e,"YYYY-MM-DD hh:mm:ss").unix();break;case"UNIX":n=g(e).unix();break;default:n=g(e,t,!0).valueOf()}return n},m=(e,t)=>{if(e?.constructor===Object&&Object.prototype.hasOwnProperty.call(e,"data")&&!Object.keys(e).find(e=>!["text","order","data","attributes"].includes(e)))return e;const n={data:e};switch(t.type){case"string":"string"!=typeof e&&(n.text=String(n.data),n.order=n.text);break;case"date":t.format&&(n.order=x(String(n.data),t.format));break;case"number":n.text=String(n.data),n.data=parseFloat(n.data),n.order=n.data;break;case"html":{const e=Array.isArray(n.data)?{nodeName:"TD",childNodes:n.data}:u(`<td>${String(n.data)}</td>`);n.data=e.childNodes||[];const t=b(e);n.text=t,n.order=t;break}case"boolean":"string"==typeof n.data&&(n.data=n.data.toLowerCase().trim()),n.data=!["false",!1,null,0[0],0].includes(n.data),n.order=n.data?1:0,n.text=String(n.data);break;case"other":n.text="",n.order=0;break;default:n.text=JSON.stringify(n.data)}return n},p=e=>{if(e instanceof Object&&e.constructor===Object&&e.hasOwnProperty("data")&&("string"==typeof e.text||"string"==typeof e.data))return e;const t={data:e};if("string"==typeof e){if(e.length){const n=u(`<th>${e}</th>`);if(n.childNodes&&(1!==n.childNodes.length||"#text"!==n.childNodes[0].nodeName)){t.data=n.childNodes,t.type="html";const e=b(n);t.text=e}}}else[null,0[0]].includes(e)?t.text="":t.text=JSON.stringify(e);return t},V=(e,t=0[0],n,s,o)=>{const i={data:[],headings:[]};if(e.headings)i.headings=e.headings.map(e=>p(e));else if(t?.tHead)i.headings=Array.from(t.tHead.querySelectorAll("th")).map((e,t)=>{const a=(e=>{const t=h(e,{valueDiffing:!1});let n;return n=!t.childNodes||1===t.childNodes.length&&"#text"===t.childNodes[0].nodeName?{data:e.innerText,type:"string"}:{data:t.childNodes,type:"html",text:b(t)},n.attributes=t.attributes,n})(e);n[t]||(n[t]={type:s,format:o,searchable:!0,sortable:!0});const i=n[t];return"false"!==e.dataset.sortable?.trim().toLowerCase()&&"false"!==e.dataset.sort?.trim().toLowerCase()||(i.sortable=!1),"false"===e.dataset.searchable?.trim().toLowerCase()&&(i.searchable=!1),"true"!==e.dataset.hidden?.trim().toLowerCase()&&"true"!==e.getAttribute("hidden")?.trim().toLowerCase()||(i.hidden=!0),["number","string","html","date","boolean","other"].includes(e.dataset.type)&&(i.type=e.dataset.type,"date"===i.type&&e.dataset.format&&(i.format=e.dataset.format)),a});else if(e.data?.length){const t=e.data[0],n=Array.isArray(t)?t:t.cells;i.headings=n.map(e=>p(""))}else t?.tBodies.length&&(i.headings=Array.from(t.tBodies[0].rows[0].cells).map(e=>p("")));for(let e=0;e<i.headings.length;e++)n[e]||(n[e]={type:s,format:o,sortable:!0,searchable:!0});if(e.data){const t=i.headings.map(e=>e.data?String(e.data):e.text);i.data=e.data.map(e=>{let o,s;return Array.isArray(e)?(o={},s=e):e.hasOwnProperty("cells")&&Object.keys(e).every(e=>["cells","attributes"].includes(e))?(o=e.attributes,s=e.cells):(o={},s=[],Object.entries(e).forEach(([e,n])=>{const o=t.indexOf(e);o>-1&&(s[o]=n)})),{attributes:o,cells:s.map((e,t)=>m(e,n[t]))}})}else t?.tBodies?.length&&(i.data=Array.from(t.tBodies[0].rows).map(e=>({attributes:B(e.attributes),cells:Array.from(e.cells).map((e,t)=>{const s=e.dataset.content?m(e.dataset.content,n[t]):((e,t)=>{let n;switch(t.type){case"string":n={data:e.innerText};break;case"date":{const s=e.innerText;n={data:s,order:x(s,t.format)};break}case"number":{const t=parseFloat(e.innerText);n={data:t,order:t,text:e.innerText};break}case"boolean":{const t=!["false","0","null","undefined"].includes(e.innerText.toLowerCase().trim());n={data:t,text:t?"1":"0",order:t?1:0};break}default:n={data:h(e,{valueDiffing:!1}).childNodes||[],text:e.innerText,order:e.innerText}}return n.attributes=B(e.attributes),n})(e,n[t]);return e.dataset.order&&(s.order=isNaN(parseFloat(e.dataset.order))?e.dataset.order:parseFloat(e.dataset.order)),s})})));if(i.data.length&&i.data[0].cells.length!==i.headings.length)throw new Error("Data heading length mismatch.");return i};class Y{cursor;dt;constructor(e){this.dt=e,this.cursor=!1}setCursor(e=!1){if(e===this.cursor)return;const t=this.cursor;if(this.cursor=e,this.dt._renderTable(),!1!==e&&this.dt.options.scrollY){const t=i(this.dt.options.classes.cursor),e=this.dt.dom.querySelector(`tr${t}`);e&&e.scrollIntoView({block:"nearest"})}this.dt.emit("datatable.cursormove",this.cursor,t)}add(e){if(!Array.isArray(e)||e.length<1)return;const t={cells:e.map((e,t)=>{const n=this.dt.columns.settings[t];return m(e,n)})};this.dt.data.data.push(t),this.dt.hasRows=!0,this.dt.update(!0)}remove(e){if(!Array.isArray(e))return this.remove([e]);this.dt.data.data=this.dt.data.data.filter((t,n)=>!e.includes(n)),this.dt.data.data.length||(this.dt.hasRows=!1),this.dt.update(!0)}findRowIndex(e,t){return this.dt.data.data.findIndex(n=>{const s=n.cells[e];return r(s).toLowerCase().includes(String(t).toLowerCase())})}findRow(e,t){const n=this.findRowIndex(e,t);if(n<0)return{index:-1,row:null,cols:[]};const s=this.dt.data.data[n],o=s.cells.map(e=>e.data);return{index:n,row:s,cols:o}}updateRow(e,t){const n={cells:t.map((e,t)=>{const n=this.dt.columns.settings[t];return m(e,n)})};this.dt.data.data.splice(e,1,n),this.dt.update(!0)}}class se{dt;settings;_state;constructor(e){this.dt=e,this.init()}init(){[this.settings,this._state]=((e=[],t,n)=>{let s=[],o=!1;const i=[];return e.forEach(e=>{(Array.isArray(e.select)?e.select:[e.select]).forEach(a=>{s[a]?e.type&&(s[a].type=e.type):s[a]={type:e.type||t,sortable:!0,searchable:!0};const r=s[a];e.render&&(r.render=e.render),e.format?r.format=e.format:"date"===e.type&&(r.format=n),e.cellClass&&(r.cellClass=e.cellClass),e.headerClass&&(r.headerClass=e.headerClass),e.locale&&(r.locale=e.locale),!1===e.sortable?r.sortable=!1:(e.numeric&&(r.numeric=e.numeric),e.caseFirst&&(r.caseFirst=e.caseFirst)),!1===e.searchable?r.searchable=!1:e.sensitivity&&(r.sensitivity=e.sensitivity),(r.searchable||r.sortable)&&0[0]!==e.ignorePunctuation&&(r.ignorePunctuation=e.ignorePunctuation),e.searchMethod&&(r.searchMethod=e.searchMethod),e.hidden&&(r.hidden=!0),e.filter&&(r.filter=e.filter),e.sortSequence&&(r.sortSequence=e.sortSequence),e.sort&&(e.filter?i[a]=e.sort:o={column:a,dir:e.sort}),0[0]!==e.searchItemSeparator&&(r.searchItemSeparator=e.searchItemSeparator)})}),s=s.map(e=>e||{type:t,format:"date"===t?n:0[0],sortable:!0,searchable:!0}),[s,{filters:i,sort:o,widths:[]}]})(this.dt.options.columns,this.dt.options.type,this.dt.options.format)}get(e){return e<0||e>=this.size()?null:{...this.settings[e]}}size(){return this.settings.length}swap(e){if(2===e.length){const t=this.dt.data.headings.map((e,t)=>t),n=e[0],s=e[1],o=t[s];return t[s]=t[n],t[n]=o,this.order(t)}}order(e){this.dt.data.headings=e.map(e=>this.dt.data.headings[e]),this.dt.data.data.forEach(t=>t.cells=e.map(e=>t.cells[e])),this.settings=e.map(e=>this.settings[e]),this.dt.update()}hide(e){Array.isArray(e)||(e=[e]),e.length&&(e.forEach(e=>{this.settings[e]||(this.settings[e]={type:"string"}),this.settings[e].hidden=!0}),this.dt.update())}show(e){Array.isArray(e)||(e=[e]),e.length&&(e.forEach(e=>{this.settings[e]||(this.settings[e]={type:"string",sortable:!0}),delete this.settings[e].hidden}),this.dt.update())}visible(e){return 0[0]===e&&(e=[...Array(this.dt.data.headings.length).keys()]),Array.isArray(e)?e.map(e=>!this.settings[e]?.hidden):!this.settings[e]?.hidden}add(e){const t=this.dt.data.headings.length;if(this.dt.data.headings=this.dt.data.headings.concat([p(e.heading)]),this.dt.data.data.forEach((t,n)=>{t.cells=t.cells.concat([m(e.data[n],e)])}),this.settings[t]={type:e.type||"string",sortable:!0,searchable:!0},e.type||e.format||e.sortable||e.render||e.filter){const n=this.settings[t];e.render&&(n.render=e.render),e.format&&(n.format=e.format),e.cellClass&&(n.cellClass=e.cellClass),e.headerClass&&(n.headerClass=e.headerClass),e.locale&&(n.locale=e.locale),!1===e.sortable?n.sortable=!1:(e.numeric&&(n.numeric=e.numeric),e.caseFirst&&(n.caseFirst=e.caseFirst)),!1===e.searchable?n.searchable=!1:e.sensitivity&&(n.sensitivity=e.sensitivity),(n.searchable||n.sortable)&&e.ignorePunctuation&&(n.ignorePunctuation=e.ignorePunctuation),e.hidden&&(n.hidden=!0),e.filter&&(n.filter=e.filter),e.sortSequence&&(n.sortSequence=e.sortSequence)}this.dt.update(!0)}remove(e){Array.isArray(e)||(e=[e]),this.dt.data.headings=this.dt.data.headings.filter((t,n)=>!e.includes(n)),this.dt.data.data.forEach(t=>t.cells=t.cells.filter((t,n)=>!e.includes(n))),this.dt.update(!0)}filter(e,t=!1){if(!this.settings[e]?.filter?.length)return;const s=this._state.filters[e];let n;if(s){let t=!1;n=this.settings[e].filter.find(e=>!!t||(e===s&&(t=!0),!1))}else{const t=this.settings[e].filter;n=t?t[0]:0[0]}n?this._state.filters[e]=n:s&&(this._state.filters[e]=0[0]),this.dt._currentPage=1,this.dt.update(),t||this.dt.emit("datatable.filter",e,n)}sort(e,t=0[0],n=!1){const s=this.settings[e];if(n||this.dt.emit("datatable.sorting",e,t),!t){const o=!!this._state.sort&&this._state.sort.column===e&&this._state.sort?.dir,n=s?.sortSequence||["asc","desc"];if(o){const e=n.indexOf(o);t=-1===e?n[0]||"asc":e===n.length-1?n[0]:n[e+1]}else t=n.length?n[0]:"asc"}const o=!!["string","html"].includes(s.type)&&new Intl.Collator(s.locale||this.dt.options.locale,{usage:"sort",numeric:s.numeric||this.dt.options.numeric,caseFirst:s.caseFirst||this.dt.options.caseFirst,ignorePunctuation:s.ignorePunctuation||this.dt.options.ignorePunctuation});this.dt.data.data.sort((n,s)=>{const c=n.cells[e],l=s.cells[e];let i=c.order??r(c),a=l.order??r(l);if("desc"===t){const e=i;i=a,a=e}return o&&"number"!=typeof i&&"number"!=typeof a?o.compare(String(i),String(a)):i<a?-1:i>a?1:0}),this._state.sort={column:e,dir:t},this.dt._searchQueries.length?(this.dt.multiSearch(this.dt._searchQueries),this.dt.emit("datatable.sort",e,t)):n||(this.dt._currentPage=1,this.dt.update(),this.dt.emit("datatable.sort",e,t))}_measureWidths(){const e=this.dt.data.headings.filter((e,t)=>!this.settings[t]?.hidden);if((this.dt.options.scrollY.length||this.dt.options.fixedColumns)&&e?.length){this._state.widths=[];const e={noPaging:!0};if(this.dt.options.header||this.dt.options.footer){this.dt.options.scrollY.length&&(e.unhideHeader=!0),this.dt.headerDOM&&this.dt.headerDOM.parentElement.removeChild(this.dt.headerDOM),e.noColumnWidths=!0,this.dt._renderTable(e);const s=Array.from(this.dt.dom.querySelector("thead, tfoot")?.firstElementChild?.querySelectorAll("th")||[]);let t=0;const n=this.dt.data.headings.map((e,n)=>{if(this.settings[n]?.hidden)return 0;const o=s[t].offsetWidth;return t+=1,o}),o=n.reduce((e,t)=>e+t,0);this._state.widths=n.map(e=>e/o*100)}else{e.renderHeader=!0,this.dt._renderTable(e);const s=Array.from(this.dt.dom.querySelector("thead, tfoot")?.firstElementChild?.querySelectorAll("th")||[]);let t=0;const n=this.dt.data.headings.map((e,n)=>{if(this.settings[n]?.hidden)return 0;const o=s[t].offsetWidth;return t+=1,o}),o=n.reduce((e,t)=>e+t,0);this._state.widths=n.map(e=>e/o*100)}this.dt._renderTable()}}}const C={sortable:!0,locale:"en",numeric:!0,caseFirst:"false",searchable:!0,sensitivity:"base",ignorePunctuation:!0,destroyable:!0,searchItemSeparator:"",searchQuerySeparator:" ",searchAnd:!1,searchMethod:!1,data:{},type:"html",format:"YYYY-MM-DD",columns:[],paging:!0,perPage:10,perPageSelect:[5,10,15,20,25],nextPrev:!0,firstLast:!1,prevText:"‹",nextText:"›",firstText:"«",lastText:"»",ellipsisText:"…",truncatePager:!0,pagerDelta:2,scrollY:"",fixedColumns:!0,fixedHeight:!1,footer:!1,header:!0,hiddenHeader:!1,caption:0[0],rowNavigation:!1,rowSelectionKeys:["Enter"," "],tabIndex:!1,pagerRender:!1,rowRender:!1,tableRender:!1,diffDomOptions:{valueDiffing:!1},labels:{placeholder:"Search...",searchTitle:"Search within table",perPage:"entries per page",pageTitle:"Page {page}",noRows:"No entries found",noResults:"No results match your search query",info:"Showing {start} to {end} of {rows} entries"},template:(e,t)=>`<div class='${e.classes.top}'>
    ${e.paging&&e.perPageSelect?`<div class='${e.classes.dropdown}'>
            <label>
                <select class='${e.classes.selector}' name="per-page"></select> ${e.labels.perPage}
            </label>
        </div>`:""}
    ${e.searchable?`<div class='${e.classes.search}'>
            <input class='${e.classes.input}' placeholder='${e.labels.placeholder}' type='search' name="search" title='${e.labels.searchTitle}'${t.id?` aria-controls="${t.id}"`:""}>
        </div>`:""}
</div>
<div class='${e.classes.container}'${e.scrollY.length?` style='height: ${e.scrollY}; overflow-Y: auto;'`:""}></div>
<div class='${e.classes.bottom}'>
    ${e.paging?`<div class='${e.classes.info}'></div>`:""}
    <nav class='${e.classes.pagination}'></nav>
</div>`,classes:{active:"datatable-active",ascending:"datatable-ascending",bottom:"datatable-bottom",container:"datatable-container",cursor:"datatable-cursor",descending:"datatable-descending",disabled:"datatable-disabled",dropdown:"datatable-dropdown",ellipsis:"datatable-ellipsis",filter:"datatable-filter",filterActive:"datatable-filter-active",empty:"datatable-empty",headercontainer:"datatable-headercontainer",hidden:"datatable-hidden",info:"datatable-info",input:"datatable-input",loading:"datatable-loading",pagination:"datatable-pagination",paginationList:"datatable-pagination-list",paginationListItem:"datatable-pagination-list-item",paginationListItemLink:"datatable-pagination-list-item-link",search:"datatable-search",selector:"datatable-selector",sorter:"datatable-sorter",table:"datatable-table",top:"datatable-top",wrapper:"datatable-wrapper"}},f=(e,t,n,s={})=>({nodeName:"LI",attributes:{class:s.active&&!s.hidden?`${n.classes.paginationListItem} ${n.classes.active}`:s.hidden?`${n.classes.paginationListItem} ${n.classes.hidden} ${n.classes.disabled}`:n.classes.paginationListItem},childNodes:[{nodeName:"BUTTON",attributes:{"data-page":String(e),class:n.classes.paginationListItemLink,"aria-label":n.labels.pageTitle.replace("{page}",String(e))},childNodes:[{nodeName:"#text",data:t}]}]}),ae=(e,t,n,s,o)=>{let i=[];if(o.firstLast&&i.push(f(1,o.firstText,o)),o.nextPrev){const t=e?1:n-1;i.push(f(t,o.prevText,o,{hidden:e}))}let a=[...Array(s).keys()].map(e=>f(e+1,String(e+1),o,{active:e===n-1}));if(o.truncatePager&&(a=((e,t,n,s)=>{const o=s.pagerDelta,i=s.classes,h=s.ellipsisText,a=2*o;let l=t-o,d=t+o;t<4-o+a?d=3+a:t>n-(3-o+a)&&(l=n-(2+a));const u=[];for(let t=1;t<=n;t++)if(1==t||t==n||t>=l&&t<=d){const n=e[t-1];u.push(n)}let c;const r=[];return u.forEach(t=>{const n=parseInt(t.childNodes[0].attributes["data-page"],10);if(c){const t=parseInt(c.childNodes[0].attributes["data-page"],10);if(n-t==2)r.push(e[t]);else if(n-t!=1){const e={nodeName:"LI",attributes:{class:`${i.paginationListItem} ${i.ellipsis} ${i.disabled}`},childNodes:[{nodeName:"BUTTON",attributes:{class:i.paginationListItemLink},childNodes:[{nodeName:"#text",data:h}]}]};r.push(e)}}r.push(t),c=t}),r})(a,n,s,o)),i=i.concat(a),o.nextPrev){const e=t?s:n+1;i.push(f(e,o.nextText,o,{hidden:t}))}return o.firstLast&&i.push(f(s,o.lastText,o)),{nodeName:"UL",attributes:{class:o.classes.paginationList},childNodes:a.length>1?i:[]}},re={classes:{row:"datatable-editor-row",form:"datatable-editor-form",item:"datatable-editor-item",menu:"datatable-editor-menu",save:"datatable-editor-save",block:"datatable-editor-block",cancel:"datatable-editor-cancel",close:"datatable-editor-close",inner:"datatable-editor-inner",input:"datatable-editor-input",label:"datatable-editor-label",modal:"datatable-editor-modal",action:"datatable-editor-action",header:"datatable-editor-header",wrapper:"datatable-editor-wrapper",editable:"datatable-editor-editable",container:"datatable-editor-container",separator:"datatable-editor-separator"},labels:{closeX:"x",editCell:"Edit Cell",editRow:"Edit Row",removeRow:"Remove Row",reallyRemove:"Are you sure?",reallyCancel:"Do you really want to cancel?",save:"Save",cancel:"Cancel"},cancelModal:e=>confirm(e.options.labels.reallyCancel),inline:!0,hiddenColumns:!1,contextMenu:!0,clickEvent:"dblclick",excludeColumns:[],menuItems:[{text:e=>e.options.labels.editCell,action:(e)=>{if(!(e.event.target instanceof Element))return;const n=e.event.target.closest("td");return e.editCell(n)}},{text:e=>e.options.labels.editRow,action:(e)=>{if(!(e.event.target instanceof Element))return;const n=e.event.target.closest("tr");return e.editRow(n)}},{separator:!0},{text:e=>e.options.labels.removeRow,action:(e)=>{if(e.event.target instanceof Element&&confirm(e.options.labels.reallyRemove)){const t=e.event.target.closest("tr");e.removeRow(t)}}}]};class ce{menuOpen;containerDOM;data;disabled;dt;editing;editingCell;editingRow;event;events;initialized;limits;menuDOM;modalDOM;options;originalRowRender;rect;wrapperDOM;constructor(e,t={}){this.dt=e,this.options={...re,...t}}init(){this.initialized||(this.options.classes.editable?.split(" ").forEach(e=>this.dt.wrapperDOM.classList.add(e)),this.options.inline&&(this.originalRowRender=this.dt.options.rowRender,this.dt.options.rowRender=(e,t,n)=>{let s=this.rowRender(e,t,n);return this.originalRowRender&&(s=this.originalRowRender(e,s,n)),s}),this.options.contextMenu&&(this.containerDOM=a("div",{id:this.options.classes.container}),this.wrapperDOM=a("div",{class:this.options.classes.wrapper}),this.menuDOM=a("ul",{class:this.options.classes.menu}),this.options.menuItems&&this.options.menuItems.length&&this.options.menuItems.forEach(e=>{const t=a("li",{class:e.separator?this.options.classes.separator:this.options.classes.item});if(!e.separator){const n=a("a",{class:this.options.classes.action,href:e.url||"#",html:"function"==typeof e.text?e.text(this):e.text});t.appendChild(n),e.action&&"function"==typeof e.action&&n.addEventListener("click",t=>{t.preventDefault(),e.action(this,t)})}this.menuDOM.appendChild(t)}),this.wrapperDOM.appendChild(this.menuDOM),this.containerDOM.appendChild(this.wrapperDOM),this.updateMenu()),this.data={},this.menuOpen=!1,this.editing=!1,this.editingRow=!1,this.editingCell=!1,this.bindEvents(),setTimeout(()=>{this.initialized=!0,this.dt.emit("editable.init")},10))}bindEvents(){this.events={keydown:this.keydown.bind(this),click:this.click.bind(this)},this.dt.dom.addEventListener(this.options.clickEvent,this.events.click),document.addEventListener("keydown",this.events.keydown),this.options.contextMenu&&(this.events.context=this.context.bind(this),this.events.updateMenu=this.updateMenu.bind(this),this.events.dismissMenu=this.dismissMenu.bind(this),this.events.reset=$(()=>this.events.updateMenu(),50),this.dt.dom.addEventListener("contextmenu",this.events.context),document.addEventListener("click",this.events.dismissMenu),window.addEventListener("resize",this.events.reset),window.addEventListener("scroll",this.events.reset))}context(e){const t=e.target;if(!(t instanceof Element))return;this.event=e;const n=t.closest("tbody td");if(!this.disabled&&n){e.preventDefault();let t=e.pageX,n=e.pageY;t>this.limits.x&&(t-=this.rect.width),n>this.limits.y&&(n-=this.rect.height),this.wrapperDOM.style.top=`${n}px`,this.wrapperDOM.style.left=`${t}px`,this.openMenu(),this.updateMenu()}}click(e){const t=e.target;if(t instanceof Element)if(this.editing&&this.data&&this.editingCell){const e=i(this.options.classes.input),t=this.modalDOM?this.modalDOM.querySelector(`input${e}[type=text]`):this.dt.wrapperDOM.querySelector(`input${e}[type=text]`);this.saveCell(t.value)}else if(!this.editing){const n=t.closest("tbody td");n&&(this.editCell(n),e.preventDefault())}}keydown(e){const t=i(this.options.classes.input);if(this.modalDOM){if("Escape"===e.key)this.options.cancelModal(this)&&this.closeModal();else if("Enter"===e.key)if(this.editingCell){const e=this.modalDOM.querySelector(`input${t}[type=text]`);this.saveCell(e.value)}else{const e=Array.from(this.modalDOM.querySelectorAll(`input${t}[type=text]`)).map(e=>e.value.trim());this.saveRow(e,this.data.row)}}else if(this.editing&&this.data)if("Enter"===e.key){if(this.editingCell){const e=this.dt.wrapperDOM.querySelector(`input${t}[type=text]`);this.saveCell(e.value)}else if(this.editingRow){const e=Array.from(this.dt.wrapperDOM.querySelectorAll(`input${t}[type=text]`)).map(e=>e.value.trim());this.saveRow(e,this.data.row)}}else"Escape"===e.key&&(this.editingCell?this.saveCell(this.data.content):this.editingRow&&this.saveRow(null,this.data.row))}editCell(e){const t=_(e.cellIndex,this.dt.columns.settings);if(this.options.excludeColumns.includes(t))return void this.closeMenu();const n=parseInt(e.parentElement.dataset.index,10),s=this.dt.data.data[n].cells[t];this.data={cell:s,rowIndex:n,columnIndex:t,content:r(s)},this.editing=!0,this.editingCell=!0,this.options.inline?this.dt.update():this.editCellModal(),this.closeMenu()}editCellModal(){const s=this.data.cell,n=this.data.columnIndex,o=this.dt.data.headings[n].text||String(this.dt.data.headings[n].data),c=[`<div class='${this.options.classes.inner}'>`,`<div class='${this.options.classes.header}'>`,`<h4>${this.options.labels.editCell}</h4>`,`<button class='${this.options.classes.close}' type='button' data-editor-cancel>${this.options.labels.closeX}</button>`," </div>",`<div class='${this.options.classes.block}'>`,`<form class='${this.options.classes.form}'>`,`<div class='${this.options.classes.row}'>`,`<label class='${this.options.classes.label}'>${v(o)}</label>`,`<input class='${this.options.classes.input}' value='${v(r(s))}' type='text'>`,"</div>",`<div class='${this.options.classes.row}'>`,`<button class='${this.options.classes.cancel}' type='button' data-editor-cancel>${this.options.labels.cancel}</button>`,`<button class='${this.options.classes.save}' type='button' data-editor-save>${this.options.labels.save}</button>`,"</div>","</form>","</div>","</div>"].join(""),t=a("div",{class:this.options.classes.modal,html:c});this.modalDOM=t,this.openModal();const l=i(this.options.classes.input),e=t.querySelector(`input${l}[type=text]`);e.focus(),e.selectionStart=e.selectionEnd=e.value.length,t.addEventListener("click",t=>{const n=t.target;n instanceof Element&&(n.hasAttribute("data-editor-cancel")?(t.preventDefault(),this.options.cancelModal(this)&&this.closeModal()):n.hasAttribute("data-editor-save")&&(t.preventDefault(),this.saveCell(e.value)))})}saveCell(e){const o=this.data.content,n=this.dt.columns.settings[this.data.columnIndex].type||this.dt.options.type,s=e.trim();let t;if("number"===n)t={data:parseFloat(s)};else if("boolean"===n)t=["","false","0"].includes(s)?{data:!1,text:"false",order:0}:{data:!0,text:"true",order:1};else if("html"===n)t={data:[{nodeName:"#text",data:e}],text:e,order:e};else if("string"===n)t={data:e};else if("date"===n){const n=this.dt.columns.settings[this.data.columnIndex].format||this.dt.options.format;t={data:e,order:x(String(e),n)}}else t={data:e};this.dt.data.data[this.data.rowIndex].cells[this.data.columnIndex]=t,this.closeModal();const i=this.data.rowIndex,a=this.data.columnIndex;this.data={},this.dt.update(!0),this.editing=!1,this.editingCell=!1,this.dt.emit("editable.save.cell",e,o,i,a)}editRow(e){if(!e||"TR"!==e.nodeName||this.editing)return;const t=parseInt(e.dataset.index,10),n=this.dt.data.data[t];this.data={row:n.cells,rowIndex:t},this.editing=!0,this.editingRow=!0,this.options.inline?this.dt.update():this.editRowModal(),this.closeMenu()}editRowModal(){const s=this.data.row,o=[`<div class='${this.options.classes.inner}'>`,`<div class='${this.options.classes.header}'>`,`<h4>${this.options.labels.editRow}</h4>`,`<button class='${this.options.classes.close}' type='button' data-editor-cancel>${this.options.labels.closeX}</button>`," </div>",`<div class='${this.options.classes.block}'>`,`<form class='${this.options.classes.form}'>`,`<div class='${this.options.classes.row}'>`,`<button class='${this.options.classes.cancel}' type='button' data-editor-cancel>${this.options.labels.cancel}</button>`,`<button class='${this.options.classes.save}' type='button' data-editor-save>${this.options.labels.save}</button>`,"</div>","</form>","</div>","</div>"].join(""),t=a("div",{class:this.options.classes.modal,html:o}),n=t.firstElementChild;if(!n)return;const e=n.lastElementChild?.firstElementChild;if(!e)return;s.forEach((t,n)=>{const s=this.dt.columns.settings[n];if((!s.hidden||s.hidden&&this.options.hiddenColumns)&&!this.options.excludeColumns.includes(n)){const s=this.dt.data.headings[n].text||String(this.dt.data.headings[n].data);e.insertBefore(a("div",{class:this.options.classes.row,html:[`<div class='${this.options.classes.row}'>`,`<label class='${this.options.classes.label}'>${v(s)}</label>`,`<input class='${this.options.classes.input}' value='${v(r(t))}' type='text'>`,"</div>"].join("")}),e.lastElementChild)}}),this.modalDOM=t,this.openModal();const c=i(this.options.classes.input),l=Array.from(e.querySelectorAll(`input${c}[type=text]`));t.addEventListener("click",e=>{const t=e.target;if(t instanceof Element)if(t.hasAttribute("data-editor-cancel"))this.options.cancelModal(this)&&this.closeModal();else if(t.hasAttribute("data-editor-save")){const e=l.map(e=>e.value.trim());this.saveRow(e,this.data.row)}})}saveRow(e,t){const s=t.map(e=>r(e)),n=this.dt.data.data[this.data.rowIndex];if(e){let s=0;n.cells=t.map((t,n)=>{if(this.options.excludeColumns.includes(n)||this.dt.columns.settings[n].hidden)return t;const a=this.dt.columns.settings[n].type||this.dt.options.type,o=e[s++];let i;if("number"===a)i={data:parseFloat(o)};else if("boolean"===a)i=["","false","0"].includes(o)?{data:!1,text:"false",order:0}:{data:!0,text:"true",order:1};else if("html"===a)i={data:[{nodeName:"#text",data:o}],text:o,order:o};else if("string"===a)i={data:o};else if("date"===a){const e=this.dt.columns.settings[n].format||this.dt.options.format;i={data:o,order:x(String(o),e)}}else i={data:o};return i})}const o=n.cells.map(e=>r(e));this.data={},this.dt.update(!0),this.closeModal(),this.editing=!1,this.dt.emit("editable.save.row",o,s,t)}openModal(){this.modalDOM&&document.body.appendChild(this.modalDOM)}closeModal(){this.editing&&this.modalDOM&&(document.body.removeChild(this.modalDOM),this.modalDOM=this.editing=this.editingRow=this.editingCell=!1)}removeRow(e){if(!e||"TR"!==e.nodeName||this.editing)return;const t=parseInt(e.dataset.index,10);this.dt.rows.remove(t),this.closeMenu()}updateMenu(){const e=window.scrollX||window.pageXOffset,t=window.scrollY||window.pageYOffset;this.rect=this.wrapperDOM.getBoundingClientRect(),this.limits={x:window.innerWidth+e-this.rect.width,y:window.innerHeight+t-this.rect.height}}dismissMenu(e){const t=e.target;if(!(t instanceof Element)||this.wrapperDOM.contains(t))return;let n=!0;if(this.editing){const e=i(this.options.classes.input);n=!t.matches(`input${e}[type=text]`)}n&&this.closeMenu()}openMenu(){if(this.editing&&this.data&&this.editingCell){const e=i(this.options.classes.input),t=this.modalDOM?this.modalDOM.querySelector(`input${e}[type=text]`):this.dt.wrapperDOM.querySelector(`input${e}[type=text]`);this.saveCell(t.value)}document.body.appendChild(this.containerDOM),this.menuOpen=!0,this.dt.emit("editable.context.open")}closeMenu(){this.menuOpen&&(this.menuOpen=!1,document.body.removeChild(this.containerDOM),this.dt.emit("editable.context.close"))}destroy(){this.dt.dom.removeEventListener(this.options.clickEvent,this.events.click),this.dt.dom.removeEventListener("contextmenu",this.events.context),document.removeEventListener("click",this.events.dismissMenu),document.removeEventListener("keydown",this.events.keydown),window.removeEventListener("resize",this.events.reset),window.removeEventListener("scroll",this.events.reset),document.body.contains(this.containerDOM)&&document.body.removeChild(this.containerDOM),this.options.inline&&(this.dt.options.rowRender=this.originalRowRender),this.initialized=!1}rowRender(e,t,n){return!this.data||this.data.rowIndex!==n?t:(this.editingCell?t.childNodes[function(e,t){let s=e,n=0;for(;n<e;)t[n].hidden&&(s-=1),n++;return s}(this.data.columnIndex,this.dt.columns.settings)].childNodes=[{nodeName:"INPUT",attributes:{type:"text",value:this.data.content,class:this.options.classes.input}}]:t.childNodes.forEach((n,s)=>{const o=_(s,this.dt.columns.settings),i=e[o];this.options.excludeColumns.includes(o)||(t.childNodes[s].childNodes=[{nodeName:"INPUT",attributes:{type:"text",value:v(i.text||String(i.data)||""),class:this.options.classes.input}}])}),t)}}const le={classes:{button:"datatable-column-filter-button",menu:"datatable-column-filter-menu",container:"datatable-column-filter-container",wrapper:"datatable-column-filter-wrapper"},labels:{button:"Filter columns within the table"},hiddenColumns:[]};class de{addedButtonDOM;menuOpen;buttonDOM;dt;events;initialized;options;menuDOM;containerDOM;wrapperDOM;limits;rect;event;constructor(e,t={}){this.dt=e,this.options={...le,...t}}init(){if(this.initialized)return;const t=i(this.options.classes.button);let e=this.dt.wrapperDOM.querySelector(t);if(!e){e=a("button",{class:this.options.classes.button,html:"▦"});const n=i(this.dt.options.classes.search),t=this.dt.wrapperDOM.querySelector(n);t?t.appendChild(e):this.dt.wrapperDOM.appendChild(e),this.addedButtonDOM=!0}this.buttonDOM=e,this.containerDOM=a("div",{id:this.options.classes.container}),this.wrapperDOM=a("div",{class:this.options.classes.wrapper}),this.menuDOM=a("ul",{class:this.options.classes.menu,html:this.dt.data.headings.map((e,t)=>{const n=this.dt.columns.settings[t];return this.options.hiddenColumns.includes(t)?"":`<li data-column="${t}">
                        <input type="checkbox" value="${e.text||e.data}" ${n.hidden?"":"checked=''"}>
                        <label>
                            ${e.text||e.data}
                        </label>
                    </li>`}).join("")}),this.wrapperDOM.appendChild(this.menuDOM),this.containerDOM.appendChild(this.wrapperDOM),this._measureSpace(),this._bind(),this.initialized=!0}dismiss(){this.addedButtonDOM&&this.buttonDOM.parentElement&&this.buttonDOM.parentElement.removeChild(this.buttonDOM),document.removeEventListener("click",this.events.click)}_bind(){this.events={click:this._click.bind(this)},document.addEventListener("click",this.events.click)}_openMenu(){document.body.appendChild(this.containerDOM),this._measureSpace(),this.menuOpen=!0,this.dt.emit("columnFilter.menu.open")}_closeMenu(){this.menuOpen&&(this.menuOpen=!1,document.body.removeChild(this.containerDOM),this.dt.emit("columnFilter.menu.close"))}_measureSpace(){const e=window.scrollX||window.pageXOffset,t=window.scrollY||window.pageYOffset;this.rect=this.wrapperDOM.getBoundingClientRect(),this.limits={x:window.innerWidth+e-this.rect.width,y:window.innerHeight+t-this.rect.height}}_click(e){const t=e.target;if(t instanceof Element)if(this.event=e,this.buttonDOM.contains(t)){if(e.preventDefault(),this.menuOpen)return void this._closeMenu();this._openMenu();let t=e.pageX,n=e.pageY;t>this.limits.x&&(t-=this.rect.width),n>this.limits.y&&(n-=this.rect.height),this.wrapperDOM.style.top=`${n}px`,this.wrapperDOM.style.left=`${t}px`}else if(this.menuDOM.contains(t)){const o=i(this.options.classes.menu),n=t.closest(`${o} > li`);if(!n)return;const e=n.querySelector("input[type=checkbox]");e.contains(t)||(e.checked=!e.checked);const s=Number(n.dataset.column);e.checked?this.dt.columns.show([s]):this.dt.columns.hide([s])}else this.menuOpen&&this._closeMenu()}}n.DataTable=class{columns;containerDOM;_currentPage;data;_dd;dom;_events;hasHeadings;hasRows;headerDOM;_initialHTML;initialized;_label;lastPage;_listeners;onFirstPage;onLastPage;options;_pagerDOMs;_virtualPagerDOM;pages;_rect;rows;_searchData;_searchQueries;_tableAttributes;_tableFooters;_tableCaptions;totalPages;_virtualDOM;_virtualHeaderDOM;wrapperDOM;constructor(e,t={}){const n="string"==typeof e?document.querySelector(e):e;n instanceof HTMLTableElement?this.dom=n:(this.dom=document.createElement("table"),n.appendChild(this.dom));const s={...C.diffDomOptions,...t.diffDomOptions},o={...C.labels,...t.labels},i={...C.classes,...t.classes};this.options={...C,...t,diffDomOptions:s,labels:o,classes:i},this._initialHTML=this.options.destroyable?n.outerHTML:"",this.options.tabIndex?this.dom.tabIndex=this.options.tabIndex:this.options.rowNavigation&&-1===this.dom.tabIndex&&(this.dom.tabIndex=0),this._listeners={onResize:()=>this._onResize()},this._dd=new Z(this.options.diffDomOptions||{}),this.initialized=!1,this._events={},this._currentPage=0,this.onFirstPage=!0,this.hasHeadings=!1,this.hasRows=!1,this._searchQueries=[],this.init()}init(){if(this.initialized||k(this.dom,this.options.classes.table))return!1;this._virtualDOM=h(this.dom,this.options.diffDomOptions||{}),this._tableAttributes={...this._virtualDOM.attributes},this._tableFooters=this._virtualDOM.childNodes?.filter(e=>"TFOOT"===e.nodeName)??[],this._tableCaptions=this._virtualDOM.childNodes?.filter(e=>"CAPTION"===e.nodeName)??[],0[0]!==this.options.caption&&this._tableCaptions.push({nodeName:"CAPTION",childNodes:[{nodeName:"#text",data:this.options.caption}]}),this.rows=new Y(this),this.columns=new se(this),this.data=V(this.options.data,this.dom,this.columns.settings,this.options.type,this.options.format),this._render(),setTimeout(()=>{this.emit("datatable.init"),this.initialized=!0},10)}_render(){this.wrapperDOM=a("div",{class:`${this.options.classes.wrapper} ${this.options.classes.loading}`}),this.wrapperDOM.innerHTML=this.options.template(this.options,this.dom);const t=i(this.options.classes.selector),e=this.wrapperDOM.querySelector(`select${t}`);e&&this.options.paging&&this.options.perPageSelect?this.options.perPageSelect.forEach(t=>{const[o,n]=Array.isArray(t)?[t[0],t[1]]:[String(t),t],s=n===this.options.perPage,i=new Option(o,String(n),s,s);e.appendChild(i)}):e&&e.parentElement.removeChild(e);const n=i(this.options.classes.container);this.containerDOM=this.wrapperDOM.querySelector(n),this._pagerDOMs=[];const s=i(this.options.classes.pagination);Array.from(this.wrapperDOM.querySelectorAll(s)).forEach(e=>{e instanceof HTMLElement&&(e.innerHTML=`<ul class="${this.options.classes.paginationList}"></ul>`,this._pagerDOMs.push(e.firstElementChild))}),this._virtualPagerDOM={nodeName:"UL",attributes:{class:this.options.classes.paginationList}};const o=i(this.options.classes.info);this._label=this.wrapperDOM.querySelector(o),this.dom.parentElement.replaceChild(this.wrapperDOM,this.dom),this.containerDOM.appendChild(this.dom),this._rect=this.dom.getBoundingClientRect(),this._fixHeight(),this.options.header||this.wrapperDOM.classList.add("no-header"),this.options.footer||this.wrapperDOM.classList.add("no-footer"),this.options.sortable&&this.wrapperDOM.classList.add("sortable"),this.options.searchable&&this.wrapperDOM.classList.add("searchable"),this.options.fixedHeight&&this.wrapperDOM.classList.add("fixed-height"),this.options.fixedColumns&&this.wrapperDOM.classList.add("fixed-columns"),this._bindEvents(),this.columns._state.sort&&this.columns.sort(this.columns._state.sort.column,this.columns._state.sort.dir,!0),this.update(!0)}_renderTable(e={}){let n;n=(this.options.paging||this._searchQueries.length||this.columns._state.filters.length)&&this._currentPage&&this.pages.length&&!e.noPaging?this.pages[this._currentPage-1]:this.data.data.map((e,t)=>({row:e,index:t}));let t=K(this._tableAttributes,this.data.headings,n,this.columns.settings,this.columns._state,this.rows.cursor,this.options,e,this._tableFooters,this._tableCaptions);if(this.options.tableRender){const e=this.options.tableRender(this.data,t,"main");e&&(t=e)}const s=this._dd.diff(this._virtualDOM,t);this._dd.apply(this.dom,s),this._virtualDOM=t}_renderPage(e=!1){this.hasRows&&this.totalPages?(this._currentPage>this.totalPages&&(this._currentPage=1),this._renderTable(),this.onFirstPage=1===this._currentPage,this.onLastPage=this._currentPage===this.lastPage):this.setMessage(this.options.labels.noRows);let n,s=0,t=0,o=0;if(this.totalPages&&(s=this._currentPage-1,t=s*this.options.perPage,o=t+this.pages[s].length,t+=1,n=this._searchQueries.length?this._searchData.length:this.data.data.length),this._label&&this.options.labels.info.length){const e=this.options.labels.info.replace("{start}",String(t)).replace("{end}",String(o)).replace("{page}",String(this._currentPage)).replace("{pages}",String(this.totalPages)).replace("{rows}",String(n));this._label.innerHTML=n?e:""}if(1==this._currentPage&&this._fixHeight(),this.options.rowNavigation&&this._currentPage&&(!this.rows.cursor||!this.pages[this._currentPage-1].find(e=>e.index===this.rows.cursor))){const t=this.pages[this._currentPage-1];t.length&&(e?this.rows.setCursor(t[t.length-1].index):this.rows.setCursor(t[0].index))}}_renderPagers(){if(!this.options.paging)return;let e=ae(this.onFirstPage,this.onLastPage,this._currentPage,this.totalPages,this.options);if(this.options.pagerRender){const t=this.options.pagerRender([this.onFirstPage,this.onLastPage,this._currentPage,this.totalPages],e);t&&(e=t)}const t=this._dd.diff(this._virtualPagerDOM,e);this._pagerDOMs.forEach(e=>{this._dd.apply(e,t)}),this._virtualPagerDOM=e}_renderSeparateHeader(){const e=this.dom.parentElement;this.headerDOM||(this.headerDOM=document.createElement("div"),this._virtualHeaderDOM={nodeName:"DIV"}),e.parentElement.insertBefore(this.headerDOM,e);let t={nodeName:"TABLE",attributes:this._tableAttributes,childNodes:[{nodeName:"THEAD",childNodes:[F(this.data.headings,this.columns.settings,this.columns._state,this.options,{unhideHeader:!0})]}]};if(t.attributes.class=d(t.attributes.class,this.options.classes.table),this.options.tableRender){const e=this.options.tableRender(this.data,t,"header");e&&(t=e)}const n={nodeName:"DIV",attributes:{class:this.options.classes.headercontainer},childNodes:[t]},o=this._dd.diff(this._virtualHeaderDOM,n);this._dd.apply(this.headerDOM,o),this._virtualHeaderDOM=n;const s=this.headerDOM.firstElementChild.clientWidth-this.dom.clientWidth;if(s){const e=structuredClone(this._virtualHeaderDOM);e.attributes.style=`padding-right: ${s}px;`;const t=this._dd.diff(this._virtualHeaderDOM,e);this._dd.apply(this.headerDOM,t),this._virtualHeaderDOM=e}e.scrollHeight>e.clientHeight&&(e.style.overflowY="scroll")}_bindEvents(){if(this.options.perPageSelect){const t=i(this.options.classes.selector),e=this.wrapperDOM.querySelector(t);e&&e instanceof HTMLSelectElement&&e.addEventListener("change",()=>{this.emit("datatable.perpage:before",this.options.perPage),this.options.perPage=parseInt(e.value,10),this.update(),this._fixHeight(),this.emit("datatable.perpage",this.options.perPage)},!1)}this.options.searchable&&this.wrapperDOM.addEventListener("input",e=>{const n=i(this.options.classes.input),s=e.target;if(!(s instanceof HTMLInputElement&&s.matches(n)))return;e.preventDefault();const t=[];if(Array.from(this.wrapperDOM.querySelectorAll(n)).filter(e=>e.value.length).forEach(e=>{const s=e.dataset.and||this.options.searchAnd,n=e.dataset.querySeparator||this.options.searchQuerySeparator?e.value.split(this.options.searchQuerySeparator):[e.value];s?n.forEach(n=>{e.dataset.columns?t.push({terms:[n],columns:JSON.parse(e.dataset.columns)}):t.push({terms:[n],columns:0[0]})}):e.dataset.columns?t.push({terms:n,columns:JSON.parse(e.dataset.columns)}):t.push({terms:n,columns:0[0]})}),1===t.length&&1===t[0].terms.length){const e=t[0];this.search(e.terms[0],e.columns)}else this.multiSearch(t)}),this.wrapperDOM.addEventListener("click",e=>{const t=e.target.closest("a, button");if(t)if(t.hasAttribute("data-page"))this.page(parseInt(t.getAttribute("data-page"),10)),e.preventDefault();else if(k(t,this.options.classes.sorter)){const n=Array.from(t.parentElement.parentElement.children).indexOf(t.parentElement),s=_(n,this.columns.settings);this.columns.sort(s),e.preventDefault()}else if(k(t,this.options.classes.filter)){const n=Array.from(t.parentElement.parentElement.children).indexOf(t.parentElement),s=_(n,this.columns.settings);this.columns.filter(s),e.preventDefault()}},!1),this.options.rowNavigation&&this.dom.addEventListener("keydown",e=>{if("ArrowUp"===e.key){let t;e.preventDefault(),e.stopPropagation(),this.pages[this._currentPage-1].find(e=>e.index===this.rows.cursor||(t=e,!1)),t?this.rows.setCursor(t.index):this.onFirstPage||this.page(this._currentPage-1,!0)}else if("ArrowDown"===e.key){let t;e.preventDefault(),e.stopPropagation();const n=this.pages[this._currentPage-1].find(e=>!!t||(e.index===this.rows.cursor&&(t=!0),!1));n?this.rows.setCursor(n.index):this.onLastPage||this.page(this._currentPage+1)}else this.options.rowSelectionKeys.includes(e.key)&&this.emit("datatable.selectrow",this.rows.cursor,e,!0)}),this.dom.addEventListener("mousedown",e=>{const n=e.target;if(!(n instanceof Element))return;const t=Array.from(this.dom.querySelectorAll("tbody > tr")).find(e=>e.contains(n));t&&t instanceof HTMLElement&&this.emit("datatable.selectrow",parseInt(t.dataset.index,10),e,this.dom.matches(":focus"))}),window.addEventListener("resize",this._listeners.onResize)}_onResize=$(()=>{this._rect=this.containerDOM.getBoundingClientRect(),this._rect.width&&this.update(!0)},250);destroy(){if(this.options.destroyable){if(this.wrapperDOM){const e=this.wrapperDOM.parentElement;if(e){const t=a("div");t.innerHTML=this._initialHTML;const n=t.firstElementChild;e.replaceChild(n,this.wrapperDOM),this.dom=n}else this.options.classes.table?.split(" ").forEach(e=>this.wrapperDOM.classList.remove(e))}window.removeEventListener("resize",this._listeners.onResize),this.initialized=!1}}update(e=!1){this.emit("datatable.update:before"),e&&(this.columns._measureWidths(),this.hasRows=Boolean(this.data.data.length),this.hasHeadings=Boolean(this.data.headings.length)),this.options.classes.empty?.split(" ").forEach(e=>this.wrapperDOM.classList.remove(e)),this._paginate(),this._renderPage(),this._renderPagers(),this.options.scrollY.length&&this._renderSeparateHeader(),this.emit("datatable.update")}_paginate(){let e=this.data.data.map((e,t)=>({row:e,index:t}));return this._searchQueries.length&&(e=[],this._searchData.forEach(t=>e.push({index:t,row:this.data.data[t]}))),this.columns._state.filters.length&&this.columns._state.filters.forEach((t,n)=>{t&&(e=e.filter(e=>{const s=e.row.cells[n];return"function"==typeof t?t(s.data):r(s)===t}))}),this.options.paging&&this.options.perPage>0?this.pages=e.map((t,n)=>n%this.options.perPage==0?e.slice(n,n+this.options.perPage):null).filter(e=>e):this.pages=[e],this.totalPages=this.lastPage=this.pages.length,this._currentPage||(this._currentPage=1),this.totalPages}_fixHeight(){this.options.fixedHeight&&(this.containerDOM.style.height=null,this._rect=this.containerDOM.getBoundingClientRect(),this.containerDOM.style.height=`${this._rect.height}px`)}search(e,t=0[0],n="search"){if(this.emit("datatable.search:before",e,this._searchData),!e.length)return this._currentPage=1,this._searchQueries=[],this._searchData=[],this.update(),this.emit("datatable.search","",[]),this.wrapperDOM.classList.remove("search-results"),!1;this.multiSearch([{terms:[e],columns:t||0[0]}],n),this.emit("datatable.search",e,this._searchData)}multiSearch(e,t="search"){if(!this.hasRows)return!1;this._currentPage=1,this._searchData=[];let n=e.map(e=>({columns:e.columns,terms:e.terms.map(e=>e.trim()).filter(e=>e),source:t})).filter(e=>e.terms.length);if(this.emit("datatable.multisearch:before",n,this._searchData),t.length&&(n=n.concat(this._searchQueries.filter(e=>e.source!==t))),this._searchQueries=n,!n.length)return this.update(),this.emit("datatable.multisearch",n,this._searchData),this.wrapperDOM.classList.remove("search-results"),!1;const s=n.map(e=>this.columns.settings.map((t,n)=>{if(t.hidden||!t.searchable||e.columns&&!e.columns.includes(n))return!1;let s=e.terms;const o=t.sensitivity||this.options.sensitivity;return["base","accent"].includes(o)&&(s=s.map(e=>e.toLowerCase())),["base","case"].includes(o)&&(s=s.map(e=>e.normalize("NFD").replace(/\p{Diacritic}/gu,""))),(t.ignorePunctuation??this.options.ignorePunctuation)&&(s=s.map(e=>e.replace(/[.,/#!$%^&*;:{}=-_`~()]/g,""))),s}));this.data.data.forEach((e,t)=>{const o=e.cells.map((e,t)=>{const s=this.columns.settings[t];if(s.searchMethod||this.options.searchMethod)return e;let n=r(e).trim();if(n.length){const e=s.sensitivity||this.options.sensitivity;["base","accent"].includes(e)&&(n=n.toLowerCase()),["base","case"].includes(e)&&(n=n.normalize("NFD").replace(/\p{Diacritic}/gu,"")),(s.ignorePunctuation??this.options.ignorePunctuation)&&(n=n.replace(/[.,/#!$%^&*;:{}=-_`~()]/g,""))}const o=s.searchItemSeparator||this.options.searchItemSeparator;return o?n.split(o):[n]});s.every((t,s)=>t.find((t,i)=>{if(!t)return!1;const a=this.columns.settings[i].searchMethod||this.options.searchMethod;return a?a(t,o[i],e,i,n[s].source):t.find(e=>o[i].find(t=>t.includes(e)))}))&&this._searchData.push(t)}),this.wrapperDOM.classList.add("search-results"),this._searchData.length?this.update():(this.wrapperDOM.classList.remove("search-results"),this.setMessage(this.options.labels.noResults)),this.emit("datatable.multisearch",n,this._searchData)}page(e,t=!1){return this.emit("datatable.page:before",e),e!==this._currentPage&&(isNaN(e)||(this._currentPage=e),!(e>this.pages.length||e<0)&&(this._renderPage(t),this._renderPagers(),void this.emit("datatable.page",e)))}insert(e){let t=[];if(Array.isArray(e)){const n=this.data.headings.map(e=>e.data?String(e.data):e.text);e.forEach((e,s)=>{const o=[];Object.entries(e).forEach(([e,t])=>{const i=n.indexOf(e);i>-1?o[i]=m(t,this.columns.settings[i]):this.hasHeadings||this.hasRows||0!==s||(o[n.length]=m(t,this.columns.settings[n.length]),n.push(e),this.data.headings.push(p(e)))}),t.push({cells:o})})}else c(e)&&(!e.headings||this.hasHeadings||this.hasRows?e.data&&Array.isArray(e.data)&&(t=e.data.map(e=>{let t,n;return Array.isArray(e)?(t={},n=e):(t=e.attributes,n=e.cells),{attributes:t,cells:n.map((e,t)=>m(e,this.columns.settings[t]))}})):this.data=V(e,0[0],this.columns.settings,this.options.type,this.options.format));t.length&&t.forEach(e=>this.data.data.push(e)),this.hasHeadings=Boolean(this.data.headings.length),this.columns._state.sort&&this.columns.sort(this.columns._state.sort.column,this.columns._state.sort.dir,!0),this.update(!0)}refresh(){if(this.emit("datatable.refresh:before"),this.options.searchable){const e=i(this.options.classes.input);Array.from(this.wrapperDOM.querySelectorAll(e)).forEach(e=>e.value=""),this._searchQueries=[]}this._currentPage=1,this.onFirstPage=!0,this.update(!0),this.emit("datatable.refresh")}print(){const t=a("table");let e=K(this._tableAttributes,this.data.headings,this.data.data.map((e,t)=>({row:e,index:t})),this.columns.settings,this.columns._state,!1,this.options,{noColumnWidths:!0,unhideHeader:!0},this._tableFooters,this._tableCaptions);if(this.options.tableRender){const t=this.options.tableRender(this.data,e,"print");t&&(e=t)}const s=this._dd.diff({nodeName:"TABLE"},e);this._dd.apply(t,s);const n=window.open();n.document.body.appendChild(t),n.print()}setMessage(e){const n=this.data.headings.filter((e,t)=>!this.columns.settings[t]?.hidden).length||1;this.options.classes.empty?.split(" ").forEach(e=>this.wrapperDOM.classList.add(e)),this._label&&(this._label.innerHTML=""),this.totalPages=0,this._renderPagers();let t={nodeName:"TABLE",attributes:this._tableAttributes,childNodes:[{nodeName:"THEAD",childNodes:[F(this.data.headings,this.columns.settings,this.columns._state,this.options,{})]},{nodeName:"TBODY",childNodes:[{nodeName:"TR",childNodes:[{nodeName:"TD",attributes:{class:this.options.classes.empty,colspan:String(n)},childNodes:[{nodeName:"#text",data:e}]}]}]}]};if(this._tableFooters.forEach(e=>t.childNodes.push(e)),this._tableCaptions.forEach(e=>t.childNodes.push(e)),t.attributes.class=d(t.attributes.class,this.options.classes.table),this.options.tableRender){const e=this.options.tableRender(this.data,t,"message");e&&(t=e)}const s=this._dd.diff(this._virtualDOM,t);this._dd.apply(this.dom,s),this._virtualDOM=t}on(e,t){this._events[e]=this._events[e]||[],this._events[e].push(t)}off(e,t){e in this._events!=!1&&this._events[e].splice(this._events[e].indexOf(t),1)}emit(e,...t){if(e in this._events!=!1)for(let n=0;n<this._events[e].length;n++)this._events[e][n](...t)}},n.addColumnFilter=function(e,t={}){const n=new de(e,t);return e.initialized?n.init():e.on("datatable.init",()=>n.init()),n},n.convertCSV=function(e){let t;if(!c(e))return!1;const n={lineDelimiter:`
`,columnDelimiter:",",removeDoubleQuotes:!1,...e};if(n.data.length){t={data:[]};const e=n.data.split(n.lineDelimiter);if(e.length&&(n.headings&&(t.headings=e[0].split(n.columnDelimiter),n.removeDoubleQuotes&&(t.headings=t.headings.map(e=>e.trim().replace(/(^"|"$)/g,""))),e.shift()),e.forEach((e,s)=>{t.data[s]=[];const o=e.split(n.columnDelimiter);o.length&&o.forEach(e=>{n.removeDoubleQuotes&&(e=e.trim().replace(/(^"|"$)/g,"")),t.data[s].push(e)})})),t)return t}return!1},n.convertJSON=function(e){let t;if(!c(e))return!1;const n={data:"",...e};if(n.data.length||c(n.data)){const e=!!H(n.data)&&JSON.parse(n.data);if(e?(t={headings:[],data:[]},e.forEach((e,n)=>{t.data[n]=[],Object.entries(e).forEach(([e,s])=>{t.headings.includes(e)||t.headings.push(e),t.data[n].push(s)})})):console.warn("That's not valid JSON!"),t)return t}return!1},n.createElement=a,n.exportCSV=function(e,t={}){if(!e.hasHeadings&&!e.hasRows)return!1;if(!c(t))return!1;const n={download:!0,skipColumn:[],lineDelimiter:`
`,columnDelimiter:",",...t},i=t=>!n.skipColumn.includes(t)&&!e.columns.settings[t]?.hidden,a=e.data.headings.filter((e,t)=>i(t)).map(e=>e.text??e.data);let s;if(n.selection)if(Array.isArray(n.selection)){s=[];for(let t=0;t<n.selection.length;t++)s=s.concat(e.pages[n.selection[t]-1].map(e=>e.row))}else s=e.pages[n.selection-1].map(e=>e.row);else s=e.data.data;let o=[];if(o[0]=a,o=o.concat(s.map(e=>e.cells.filter((e,t)=>i(t)).map(e=>r(e)))),o.length){let e="";if(o.forEach(t=>{t.forEach(t=>{"string"==typeof t&&(t=(t=(t=(t=(t=t.trim()).replace(/\s{2,}/g," ")).replace(/\n/g,"  ")).replace(/"/g,'""')).replace(/#/g,"%23")).includes(",")&&(t=`"${t}"`),e+=t+n.columnDelimiter}),e=e.trim().substring(0,e.length-1),e+=n.lineDelimiter}),e=e.trim().substring(0,e.length-1),n.download){const t=document.createElement("a");t.href=encodeURI(`data:text/csv;charset=utf-8,${e}`),t.download=`${n.filename||"datatable_export"}.csv`,document.body.appendChild(t),t.click(),document.body.removeChild(t)}return e}return!1},n.exportJSON=function(e,t={}){if(!e.hasHeadings&&!e.hasRows)return!1;if(!c(t))return!1;const n={download:!0,skipColumn:[],replacer:null,space:4,...t},o=t=>!n.skipColumn.includes(t)&&!e.columns.settings[t]?.hidden;let s;if(n.selection)if(Array.isArray(n.selection)){s=[];for(let t=0;t<n.selection.length;t++)s=s.concat(e.pages[n.selection[t]-1].map(e=>e.row))}else s=e.pages[n.selection-1].map(e=>e.row);else s=e.data.data;const i=s.map(e=>e.cells.filter((e,t)=>o(t)).map(e=>r(e))),a=e.data.headings.filter((e,t)=>o(t)).map(e=>e.text??String(e.data));if(i.length){const e=[];i.forEach((t,n)=>{e[n]=e[n]||{},t.forEach((t,s)=>{e[n][a[s]]=t})});const t=JSON.stringify(e,n.replacer,n.space);if(n.download){const o=new Blob([t],{type:"data:application/json;charset=utf-8"}),s=URL.createObjectURL(o),e=document.createElement("a");e.href=s,e.download=`${n.filename||"datatable_export"}.json`,document.body.appendChild(e),e.click(),document.body.removeChild(e),URL.revokeObjectURL(s)}return t}return!1},n.exportSQL=function(e,t={}){if(!e.hasHeadings&&!e.hasRows)return!1;if(!c(t))return!1;const n={download:!0,skipColumn:[],tableName:"myTable",...t},o=t=>!n.skipColumn.includes(t)&&!e.columns.settings[t]?.hidden;let s=[];if(n.selection)if(Array.isArray(n.selection))for(let t=0;t<n.selection.length;t++)s=s.concat(e.pages[n.selection[t]-1].map(e=>e.row));else s=e.pages[n.selection-1].map(e=>e.row);else s=e.data.data;const i=s.map(e=>e.cells.filter((e,t)=>o(t)).map(e=>r(e))),a=e.data.headings.filter((e,t)=>o(t)).map(e=>e.text??String(e.data));if(i.length){let e=`INSERT INTO \`${n.tableName}\` (`;if(a.forEach(t=>{e+=`\`${t}\`,`}),e=e.trim().substring(0,e.length-1),e+=") VALUES ",i.forEach(t=>{e+="(",t.forEach(t=>{e+="string"==typeof t?`"${t}",`:`${t},`}),e=e.trim().substring(0,e.length-1),e+="),"}),e=e.trim().substring(0,e.length-1),e+=";",n.download&&(e=`data:application/sql;charset=utf-8,${e}`),n.download){const t=document.createElement("a");t.href=encodeURI(e),t.download=`${n.filename||"datatable_export"}.sql`,document.body.appendChild(t),t.click(),document.body.removeChild(t)}return e}return!1},n.exportTXT=function(e,t={}){if(!e.hasHeadings&&!e.hasRows)return!1;if(!c(t))return!1;const n={download:!0,skipColumn:[],lineDelimiter:`
`,columnDelimiter:",",...t},i=t=>!n.skipColumn.includes(t)&&!e.columns.settings[t]?.hidden,a=e.data.headings.filter((e,t)=>i(t)).map(e=>e.text??e.data);let s;if(n.selection)if(Array.isArray(n.selection)){s=[];for(let t=0;t<n.selection.length;t++)s=s.concat(e.pages[n.selection[t]-1].map(e=>e.row))}else s=e.pages[n.selection-1].map(e=>e.row);else s=e.data.data;let o=[];if(o[0]=a,o=o.concat(s.map(e=>e.cells.filter((e,t)=>i(t)).map(e=>r(e)))),o.length){let e="";if(o.forEach(t=>{t.forEach(t=>{"string"==typeof t&&(t=(t=(t=(t=(t=t.trim()).replace(/\s{2,}/g," ")).replace(/\n/g,"  ")).replace(/"/g,'""')).replace(/#/g,"%23")).includes(",")&&(t=`"${t}"`),e+=t+n.columnDelimiter}),e=e.trim().substring(0,e.length-1),e+=n.lineDelimiter}),e=e.trim().substring(0,e.length-1),n.download&&(e=`data:text/csv;charset=utf-8,${e}`),n.download){const t=document.createElement("a");t.href=encodeURI(e),t.download=`${n.filename||"datatable_export"}.txt`,document.body.appendChild(t),t.click(),document.body.removeChild(t)}return e}return!1},n.isJson=H,n.isObject=c,n.makeEditable=function(e,t={}){const n=new ce(e,t);return e.initialized?n.init():e.on("datatable.init",()=>n.init()),n}}).call(this)}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[1])(1)});let tableOptions={locale:"en",labels:{placeholder:"Search...",searchTitle:"Search within table",perPage:"entries per page",noRows:"No entries found",noResults:"No results match your search query",info:"Showing {start} to {end} of {rows} entries"},classes:{active:"active",disabled:"disabled",selector:"form-select",paginationList:"pagination",paginationListItem:"page-item",paginationListItemLink:"page-link",input:"form-control search-input",search:"float-right search-data-table btn-group"},tableRender:(e,t)=>{const s=t.childNodes[0];return s.childNodes[0].childNodes.forEach(e=>{e.attributes||(e.attributes={}),e.attributes.scope="col";const t=e.childNodes[0];t.attributes||(t.attributes={});let n=t.attributes.class?`${t.attributes.class} th-inner`:"th-inner";t.nodeName==="a"&&(n+=" sortable sortable-center both",e.attributes.class?.includes("desc")?n+=" desc":e.attributes.class?.includes("asc")&&(n+=" asc")),t.attributes.class=n}),t}};document.querySelectorAll(".data-table").forEach(e=>{let s=e.getAttribute("data-table-sortable")==="true";tableOptions.sortable=s;let o=e.getAttribute("data-table-paging")==="true";tableOptions.paging=o;let i=e.getAttribute("data-table-searchable")==="true";tableOptions.searchable=i;let a=parseInt(e.getAttribute("data-table-paging-option-perPage"))||10;tableOptions.perPage=a;let n=e.getAttribute("data-table-paging-option-perPageSelect"),t;if(n)try{t=JSON.parse(n)}catch(e){console.error("Error parsing perPageSelect, use default value:",e),t=[5,10,20,50,["All",-1]]}else t=[5,10,20,50,["All",-1]];tableOptions.perPageSelect=t,new window.simpleDatatables.DataTable(e,tableOptions)})